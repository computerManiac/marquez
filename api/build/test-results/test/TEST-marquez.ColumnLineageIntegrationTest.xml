<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="marquez.ColumnLineageIntegrationTest" tests="5" skipped="0" failures="0" errors="0" timestamp="2024-02-09T04:42:28" hostname="MacBook-Air.local" time="2.18">
  <properties/>
  <testcase name="testColumnLineageEndpointByJob()" classname="marquez.ColumnLineageIntegrationTest" time="0.991"/>
  <testcase name="testColumnLineageEndpointWithDownstream()" classname="marquez.ColumnLineageIntegrationTest" time="0.305"/>
  <testcase name="testColumnLineageEndpointByDatasetField()" classname="marquez.ColumnLineageIntegrationTest" time="0.304"/>
  <testcase name="testColumnLineageEndpointWithDepthLimit()" classname="marquez.ColumnLineageIntegrationTest" time="0.305"/>
  <testcase name="testColumnLineageEndpointByDataset()" classname="marquez.ColumnLineageIntegrationTest" time="0.272"/>
  <system-out><![CDATA[10:12:25.290 [Test worker] INFO org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
10:12:25.290 [Test worker] INFO org.flywaydb.core.internal.license.VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
10:12:25.290 [Test worker] INFO org.flywaydb.core.internal.license.VersionPrinter - 
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.util.FeatureDetector - AWS SDK available: false
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.util.FeatureDetector - Google Cloud Storage available: false
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@4e0e2f2a ...
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:marquez/db/migration' ...
10:12:25.291 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:marquez/db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@4e0e2f2a ...
10:12:25.292 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/Users/anwar/Fahim/marquez/api/build/resources/main/marquez/db/migration
10:12:25.292 [Test worker] DEBUG org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
10:12:25.293 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: /Users/anwar/Fahim/marquez/api/build/resources/main/
10:12:25.293 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: /Users/anwar/Fahim/marquez/api/build/resources/main/marquez/db/migration (marquez/db/migration)
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/R__1_Jobs_view_and_rewrite_function.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/R__2_Runs_view.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/R__3_Datasets_view.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V10__drop_unique_constraint_on_job_name.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V11__alter_datasets_to_rename_last_modified.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V12__alter_dataset_fields_to_change_unique_constraint.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V13__alter_run_add_start_end_state.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V14__index_datasetversion_datasetid.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V15__index_created_at_and_current_run_state_on_runs.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V16__index_created_at_on_runs.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V17.1__unique_version_constraint.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V17.2__open_lineage.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V18__drop_dataset_constraint.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V19__alter_run_to_add_external_id.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V1__initial_schema.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V2.1__alter_job_versions_to_add_job_context_uuid.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V20__drop_lineage_pk.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V21__alter_jobs_to_add_namespace_name.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V22__alter_job_versions_to_add_namespace.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V23__alter_runs.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V24__alter_jobs.sql
10:12:25.295 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V25__alter_datasets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V26__alter_jobs_change_type.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V27__alter_runs_add_context.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V28__update_jobs_fix_inputs.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V29__alter_dataset_versions_add_fields.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V2__add_job_contexts.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V30__alter_runs_change_transitioned_at_type.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V31__alter_job_io_mapping.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V32__index_runs_created_at.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V33__index_lineage_events_run_id.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V34__drop_not_null_constraint_on_field_type.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V35__drop_io_mapping_tables.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V36__drop_run_id_column_in_lineage_events.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V37__alter_dataset_fields_to_change_type.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V38__alter_namespaces_to_resize_name.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V39__alter_sources_to_resize_name.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V3__drop_not_null_constraint_on_job_location.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V40__alter_tables_resize_namespace_and_connection_url.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V41__add_operation_to_dataset_versions.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V42__add_job_symlink_target.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V43__alter_jobs_add_job_parent_uuid.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V44__runs_job_versions_add_job_uuid.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V45__update_jobs_view_rule.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V46__add_hidden_column_to_jobs_and_datasets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V47__add_lineage_event_indexes.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V48__dataset_symlinks.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V49__column_lineage.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V4__add_dataset_fields.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V50__index_dataset_fields.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V51__job_indices_for_lineage.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V52__alter_dataset_symlinks.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V53__add_hidden_namespace.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V54__lineage_events_created_at_indexed.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V55.1__add_dataset_facets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V55.2__add_job_facets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V55.3__add_run_facets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V57.1__add_migration_lock.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V57__readme.md
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V58__job_fqn_name_index.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V59.1__column_lineage_add_indexes.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V59.2__facet_tables_indexes.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V5__add_tags.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V60__alter_job_versions_to_drop_job_context_uuid.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V61__unique_job_fqn_index.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V62__index_run_states_and_parent_run.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V63__alter_tables_add_on_cascade_delete.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V64__drop_job_contexts.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V65__alter_dataset_facets_to_change_lineage_event_type_as_nullable.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V66.1__alter_job_facets.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V66.2__alter_lineage_events_add_event_type.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V67.1__job_versions_io_mapping_add_job_reference.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V6__alter_datasets_to_add_last_modified.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V7__alter_run_args_to_change_args.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V8__alter_datasets_to_change_unique_constraint.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migration/V9__alter_sources_to_drop_composite_unique_constraint.sql
10:12:25.296 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:marquez/db/migration
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:marquez/db/migrations' ...
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:marquez/db/migrations using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@4e0e2f2a ...
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/Users/anwar/Fahim/marquez/api/build/classes/java/test/marquez/db/migrations
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: /Users/anwar/Fahim/marquez/api/build/classes/java/test/
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: /Users/anwar/Fahim/marquez/api/build/classes/java/test/marquez/db/migrations (marquez/db/migrations)
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/Users/anwar/Fahim/marquez/api/build/classes/java/main/marquez/db/migrations
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
10:12:25.297 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: /Users/anwar/Fahim/marquez/api/build/classes/java/main/
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: /Users/anwar/Fahim/marquez/api/build/classes/java/main/marquez/db/migrations (marquez/db/migrations)
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V44_1__UpdateRunsWithJobUUID.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns$ParentRun.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V44_3_BackfillJobsWithParents$JobParent.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V44_3_BackfillJobsWithParents.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V56_1__FacetViews.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_1__BackfillFacets.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_1__BackfillFacetsTest$DatasetFacet.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_1__BackfillFacetsTest$JobFacet.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_1__BackfillFacetsTest$RunFacet.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_1__BackfillFacetsTest.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V57_BackfillFacetsPerformanceTest.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersion.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest$1.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest$1.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: marquez/db/migrations/V67_2_JobVersionsIOMappingBackfillJob.class
10:12:25.298 [Test worker] DEBUG org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:marquez/db/migrations
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V57__readme.md (filename: V57__readme.md)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents.class (filename: V44_3_BackfillJobsWithParents.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest.class (filename: V67_2_JobFacetsBackfillJobVersionTest.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacets.class (filename: V57_1__BackfillFacets.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$DatasetFacet.class (filename: V57_1__BackfillFacetsTest$DatasetFacet.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobVersionsIOMappingBackfillJob.class (filename: V67_2_JobVersionsIOMappingBackfillJob.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest.class (filename: V66_3_JobFacetsBackfillJobVersionTest.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V56_1__FacetViews.class (filename: V56_1__FacetViews.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns$ParentRun.class (filename: V44_2__BackfillAirflowParentRuns$ParentRun.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents$JobParent.class (filename: V44_3_BackfillJobsWithParents$JobParent.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_1__UpdateRunsWithJobUUID.class (filename: V44_1__UpdateRunsWithJobUUID.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest$1.class (filename: V67_2_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest.class (filename: V57_1__BackfillFacetsTest.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersion.class (filename: V66_3_JobFacetsBackfillJobVersion.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns.class (filename: V44_2__BackfillAirflowParentRuns.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_BackfillFacetsPerformanceTest.class (filename: V57_BackfillFacetsPerformanceTest.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest$1.class (filename: V66_3_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$JobFacet.class (filename: V57_1__BackfillFacetsTest$JobFacet.class)
10:12:25.304 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$RunFacet.class (filename: V57_1__BackfillFacetsTest$RunFacet.class)
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V18__drop_dataset_constraint.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V63__alter_tables_add_on_cascade_delete.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V30__alter_runs_change_transitioned_at_type.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating R__2_Runs_view.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V29__alter_dataset_versions_add_fields.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V44__runs_job_versions_add_job_uuid.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V19__alter_run_to_add_external_id.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V40__alter_tables_resize_namespace_and_connection_url.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V64__drop_job_contexts.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V4__add_dataset_fields.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V55.1__add_dataset_facets.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V67.1__job_versions_io_mapping_add_job_reference.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V35__drop_io_mapping_tables.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V55.3__add_run_facets.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V8__alter_datasets_to_change_unique_constraint.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V9__alter_sources_to_drop_composite_unique_constraint.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V6__alter_datasets_to_add_last_modified.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V60__alter_job_versions_to_drop_job_context_uuid.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V3__drop_not_null_constraint_on_job_location.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V10__drop_unique_constraint_on_job_name.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V52__alter_dataset_symlinks.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V15__index_created_at_and_current_run_state_on_runs.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V43__alter_jobs_add_job_parent_uuid.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V42__add_job_symlink_target.sql
10:12:25.305 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V16__index_created_at_on_runs.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V31__alter_job_io_mapping.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V53__add_hidden_namespace.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V37__alter_dataset_fields_to_change_type.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V57.1__add_migration_lock.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V5__add_tags.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V22__alter_job_versions_to_add_namespace.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V46__add_hidden_column_to_jobs_and_datasets.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V48__dataset_symlinks.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating R__1_Jobs_view_and_rewrite_function.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V12__alter_dataset_fields_to_change_unique_constraint.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V51__job_indices_for_lineage.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V24__alter_jobs.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V65__alter_dataset_facets_to_change_lineage_event_type_as_nullable.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V58__job_fqn_name_index.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V7__alter_run_args_to_change_args.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V41__add_operation_to_dataset_versions.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V34__drop_not_null_constraint_on_field_type.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V36__drop_run_id_column_in_lineage_events.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V38__alter_namespaces_to_resize_name.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V23__alter_runs.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V25__alter_datasets.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V21__alter_jobs_to_add_namespace_name.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V39__alter_sources_to_resize_name.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V26__alter_jobs_change_type.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V50__index_dataset_fields.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V17.1__unique_version_constraint.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V17.2__open_lineage.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V62__index_run_states_and_parent_run.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V66.2__alter_lineage_events_add_event_type.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V27__alter_runs_add_context.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V45__update_jobs_view_rule.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V54__lineage_events_created_at_indexed.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V59.1__column_lineage_add_indexes.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating R__3_Datasets_view.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V2.1__alter_job_versions_to_add_job_context_uuid.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V55.2__add_job_facets.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V14__index_datasetversion_datasetid.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V28__update_jobs_fix_inputs.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V47__add_lineage_event_indexes.sql
10:12:25.306 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V49__column_lineage.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V59.2__facet_tables_indexes.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V11__alter_datasets_to_rename_last_modified.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V2__add_job_contexts.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V1__initial_schema.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V66.1__alter_job_facets.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V20__drop_lineage_pk.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V32__index_runs_created_at.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V33__index_lineage_events_run_id.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V13__alter_run_add_start_end_state.sql
10:12:25.307 [Test worker] DEBUG org.flywaydb.core.internal.resource.ResourceNameValidator - Validating V61__unique_job_fqn_index.sql
10:12:25.490 [Test worker] INFO org.flywaydb.core.internal.database.base.BaseDatabaseType - Database: jdbc:postgresql://localhost:55773/test (PostgreSQL 14.10)
10:12:25.490 [Test worker] DEBUG org.flywaydb.core.internal.database.base.BaseDatabaseType - Driver  : PostgreSQL JDBC Driver 42.6.0
10:12:25.492 [Test worker] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
10:12:25.493 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.SchemaHistoryFactory - Schemas: 
10:12:25.493 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.SchemaHistoryFactory - Default schema: null
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V57__readme.md (filename: V57__readme.md)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents.class (filename: V44_3_BackfillJobsWithParents.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest.class (filename: V67_2_JobFacetsBackfillJobVersionTest.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacets.class (filename: V57_1__BackfillFacets.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$DatasetFacet.class (filename: V57_1__BackfillFacetsTest$DatasetFacet.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobVersionsIOMappingBackfillJob.class (filename: V67_2_JobVersionsIOMappingBackfillJob.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest.class (filename: V66_3_JobFacetsBackfillJobVersionTest.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V56_1__FacetViews.class (filename: V56_1__FacetViews.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns$ParentRun.class (filename: V44_2__BackfillAirflowParentRuns$ParentRun.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents$JobParent.class (filename: V44_3_BackfillJobsWithParents$JobParent.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_1__UpdateRunsWithJobUUID.class (filename: V44_1__UpdateRunsWithJobUUID.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest$1.class (filename: V67_2_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest.class (filename: V57_1__BackfillFacetsTest.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersion.class (filename: V66_3_JobFacetsBackfillJobVersion.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns.class (filename: V44_2__BackfillAirflowParentRuns.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_BackfillFacetsPerformanceTest.class (filename: V57_BackfillFacetsPerformanceTest.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest$1.class (filename: V66_3_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$JobFacet.class (filename: V57_1__BackfillFacetsTest$JobFacet.class)
10:12:25.503 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$RunFacet.class (filename: V57_1__BackfillFacetsTest$RunFacet.class)
10:12:25.510 [Test worker] DEBUG org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
10:12:25.514 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/R__2_Runs_view.sql (filename: R__2_Runs_view.sql)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/R__1_Jobs_view_and_rewrite_function.sql (filename: R__1_Jobs_view_and_rewrite_function.sql)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V57__readme.md (filename: V57__readme.md)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/R__3_Datasets_view.sql (filename: R__3_Datasets_view.sql)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents.class (filename: V44_3_BackfillJobsWithParents.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest.class (filename: V67_2_JobFacetsBackfillJobVersionTest.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacets.class (filename: V57_1__BackfillFacets.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$DatasetFacet.class (filename: V57_1__BackfillFacetsTest$DatasetFacet.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobVersionsIOMappingBackfillJob.class (filename: V67_2_JobVersionsIOMappingBackfillJob.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest.class (filename: V66_3_JobFacetsBackfillJobVersionTest.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V56_1__FacetViews.class (filename: V56_1__FacetViews.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns$ParentRun.class (filename: V44_2__BackfillAirflowParentRuns$ParentRun.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents$JobParent.class (filename: V44_3_BackfillJobsWithParents$JobParent.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_1__UpdateRunsWithJobUUID.class (filename: V44_1__UpdateRunsWithJobUUID.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest$1.class (filename: V67_2_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest.class (filename: V57_1__BackfillFacetsTest.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersion.class (filename: V66_3_JobFacetsBackfillJobVersion.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns.class (filename: V44_2__BackfillAirflowParentRuns.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_BackfillFacetsPerformanceTest.class (filename: V57_BackfillFacetsPerformanceTest.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest$1.class (filename: V66_3_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$JobFacet.class (filename: V57_1__BackfillFacetsTest$JobFacet.class)
10:12:25.515 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$RunFacet.class (filename: V57_1__BackfillFacetsTest$RunFacet.class)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V18__drop_dataset_constraint.sql (filename: V18__drop_dataset_constraint.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V63__alter_tables_add_on_cascade_delete.sql (filename: V63__alter_tables_add_on_cascade_delete.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V30__alter_runs_change_transitioned_at_type.sql (filename: V30__alter_runs_change_transitioned_at_type.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V29__alter_dataset_versions_add_fields.sql (filename: V29__alter_dataset_versions_add_fields.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V44__runs_job_versions_add_job_uuid.sql (filename: V44__runs_job_versions_add_job_uuid.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V19__alter_run_to_add_external_id.sql (filename: V19__alter_run_to_add_external_id.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V40__alter_tables_resize_namespace_and_connection_url.sql (filename: V40__alter_tables_resize_namespace_and_connection_url.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V64__drop_job_contexts.sql (filename: V64__drop_job_contexts.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V4__add_dataset_fields.sql (filename: V4__add_dataset_fields.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V55.1__add_dataset_facets.sql (filename: V55.1__add_dataset_facets.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V67.1__job_versions_io_mapping_add_job_reference.sql (filename: V67.1__job_versions_io_mapping_add_job_reference.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V35__drop_io_mapping_tables.sql (filename: V35__drop_io_mapping_tables.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V55.3__add_run_facets.sql (filename: V55.3__add_run_facets.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V8__alter_datasets_to_change_unique_constraint.sql (filename: V8__alter_datasets_to_change_unique_constraint.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V9__alter_sources_to_drop_composite_unique_constraint.sql (filename: V9__alter_sources_to_drop_composite_unique_constraint.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V6__alter_datasets_to_add_last_modified.sql (filename: V6__alter_datasets_to_add_last_modified.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V60__alter_job_versions_to_drop_job_context_uuid.sql (filename: V60__alter_job_versions_to_drop_job_context_uuid.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V3__drop_not_null_constraint_on_job_location.sql (filename: V3__drop_not_null_constraint_on_job_location.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V10__drop_unique_constraint_on_job_name.sql (filename: V10__drop_unique_constraint_on_job_name.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V52__alter_dataset_symlinks.sql (filename: V52__alter_dataset_symlinks.sql)
10:12:25.540 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V15__index_created_at_and_current_run_state_on_runs.sql (filename: V15__index_created_at_and_current_run_state_on_runs.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V43__alter_jobs_add_job_parent_uuid.sql (filename: V43__alter_jobs_add_job_parent_uuid.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V42__add_job_symlink_target.sql (filename: V42__add_job_symlink_target.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V16__index_created_at_on_runs.sql (filename: V16__index_created_at_on_runs.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V31__alter_job_io_mapping.sql (filename: V31__alter_job_io_mapping.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V53__add_hidden_namespace.sql (filename: V53__add_hidden_namespace.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V37__alter_dataset_fields_to_change_type.sql (filename: V37__alter_dataset_fields_to_change_type.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V57.1__add_migration_lock.sql (filename: V57.1__add_migration_lock.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V5__add_tags.sql (filename: V5__add_tags.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V22__alter_job_versions_to_add_namespace.sql (filename: V22__alter_job_versions_to_add_namespace.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V46__add_hidden_column_to_jobs_and_datasets.sql (filename: V46__add_hidden_column_to_jobs_and_datasets.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V48__dataset_symlinks.sql (filename: V48__dataset_symlinks.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V12__alter_dataset_fields_to_change_unique_constraint.sql (filename: V12__alter_dataset_fields_to_change_unique_constraint.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V51__job_indices_for_lineage.sql (filename: V51__job_indices_for_lineage.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V24__alter_jobs.sql (filename: V24__alter_jobs.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V57__readme.md (filename: V57__readme.md)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V65__alter_dataset_facets_to_change_lineage_event_type_as_nullable.sql (filename: V65__alter_dataset_facets_to_change_lineage_event_type_as_nullable.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V58__job_fqn_name_index.sql (filename: V58__job_fqn_name_index.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V7__alter_run_args_to_change_args.sql (filename: V7__alter_run_args_to_change_args.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V41__add_operation_to_dataset_versions.sql (filename: V41__add_operation_to_dataset_versions.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V34__drop_not_null_constraint_on_field_type.sql (filename: V34__drop_not_null_constraint_on_field_type.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V36__drop_run_id_column_in_lineage_events.sql (filename: V36__drop_run_id_column_in_lineage_events.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V38__alter_namespaces_to_resize_name.sql (filename: V38__alter_namespaces_to_resize_name.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V23__alter_runs.sql (filename: V23__alter_runs.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V25__alter_datasets.sql (filename: V25__alter_datasets.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V21__alter_jobs_to_add_namespace_name.sql (filename: V21__alter_jobs_to_add_namespace_name.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V39__alter_sources_to_resize_name.sql (filename: V39__alter_sources_to_resize_name.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V26__alter_jobs_change_type.sql (filename: V26__alter_jobs_change_type.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V50__index_dataset_fields.sql (filename: V50__index_dataset_fields.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V17.1__unique_version_constraint.sql (filename: V17.1__unique_version_constraint.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V17.2__open_lineage.sql (filename: V17.2__open_lineage.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V62__index_run_states_and_parent_run.sql (filename: V62__index_run_states_and_parent_run.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V66.2__alter_lineage_events_add_event_type.sql (filename: V66.2__alter_lineage_events_add_event_type.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V27__alter_runs_add_context.sql (filename: V27__alter_runs_add_context.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V45__update_jobs_view_rule.sql (filename: V45__update_jobs_view_rule.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V54__lineage_events_created_at_indexed.sql (filename: V54__lineage_events_created_at_indexed.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V59.1__column_lineage_add_indexes.sql (filename: V59.1__column_lineage_add_indexes.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V2.1__alter_job_versions_to_add_job_context_uuid.sql (filename: V2.1__alter_job_versions_to_add_job_context_uuid.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V55.2__add_job_facets.sql (filename: V55.2__add_job_facets.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V14__index_datasetversion_datasetid.sql (filename: V14__index_datasetversion_datasetid.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V28__update_jobs_fix_inputs.sql (filename: V28__update_jobs_fix_inputs.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V47__add_lineage_event_indexes.sql (filename: V47__add_lineage_event_indexes.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V49__column_lineage.sql (filename: V49__column_lineage.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V59.2__facet_tables_indexes.sql (filename: V59.2__facet_tables_indexes.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V11__alter_datasets_to_rename_last_modified.sql (filename: V11__alter_datasets_to_rename_last_modified.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V2__add_job_contexts.sql (filename: V2__add_job_contexts.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V1__initial_schema.sql (filename: V1__initial_schema.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V66.1__alter_job_facets.sql (filename: V66.1__alter_job_facets.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V20__drop_lineage_pk.sql (filename: V20__drop_lineage_pk.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V32__index_runs_created_at.sql (filename: V32__index_runs_created_at.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V33__index_lineage_events_run_id.sql (filename: V33__index_lineage_events_run_id.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V13__alter_run_add_start_end_state.sql (filename: V13__alter_run_add_start_end_state.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migration/V61__unique_job_fqn_index.sql (filename: V61__unique_job_fqn_index.sql)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents.class (filename: V44_3_BackfillJobsWithParents.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest.class (filename: V67_2_JobFacetsBackfillJobVersionTest.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacets.class (filename: V57_1__BackfillFacets.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$DatasetFacet.class (filename: V57_1__BackfillFacetsTest$DatasetFacet.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobVersionsIOMappingBackfillJob.class (filename: V67_2_JobVersionsIOMappingBackfillJob.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest.class (filename: V66_3_JobFacetsBackfillJobVersionTest.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V56_1__FacetViews.class (filename: V56_1__FacetViews.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns$ParentRun.class (filename: V44_2__BackfillAirflowParentRuns$ParentRun.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_3_BackfillJobsWithParents$JobParent.class (filename: V44_3_BackfillJobsWithParents$JobParent.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_1__UpdateRunsWithJobUUID.class (filename: V44_1__UpdateRunsWithJobUUID.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V67_2_JobFacetsBackfillJobVersionTest$1.class (filename: V67_2_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest.class (filename: V57_1__BackfillFacetsTest.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersion.class (filename: V66_3_JobFacetsBackfillJobVersion.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V44_2__BackfillAirflowParentRuns.class (filename: V44_2__BackfillAirflowParentRuns.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_BackfillFacetsPerformanceTest.class (filename: V57_BackfillFacetsPerformanceTest.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V66_3_JobFacetsBackfillJobVersionTest$1.class (filename: V66_3_JobFacetsBackfillJobVersionTest$1.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$JobFacet.class (filename: V57_1__BackfillFacetsTest$JobFacet.class)
10:12:25.541 [Test worker] DEBUG org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: marquez/db/migrations/V57_1__BackfillFacetsTest$RunFacet.class (filename: V57_1__BackfillFacetsTest$RunFacet.class)
10:12:25.561 [Test worker] INFO org.flywaydb.core.internal.command.DbValidate - Successfully validated 82 migrations (execution time 00:00.050s)
10:12:25.573 [Test worker] DEBUG org.flywaydb.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
10:12:25.579 [Test worker] INFO org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
10:12:25.581 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing  ...
10:12:25.584 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
10:12:25.585 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 13: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
10:12:25.585 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
10:12:25.585 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
10:12:25.590 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.590 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
10:12:25.592 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.592 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
10:12:25.593 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.593 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table "public"."flyway_schema_history"
10:12:25.607 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
10:12:25.607 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V1__initial_schema.sql ...
10:12:25.609 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE namespaces (
  uuid               UUID PRIMARY KEY,
  created_at         TIMESTAMP NOT NULL,
  updated_at         TIMESTAMP NOT NULL,
  name               VARCHAR(64) UNIQUE NOT NULL,
  description        TEXT,
  current_owner_name VARCHAR(64)
)
10:12:25.610 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 12: CREATE TABLE owners (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  name       VARCHAR(64) UNIQUE NOT NULL
)
10:12:25.610 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 18: CREATE TABLE namespace_ownerships (
  uuid           UUID PRIMARY KEY,
  started_at     TIMESTAMP NOT NULL,
  ended_at       TIMESTAMP,
  namespace_uuid UUID REFERENCES namespaces(uuid),
  owner_uuid     UUID REFERENCES owners(uuid),
  UNIQUE (namespace_uuid, owner_uuid)
)
10:12:25.611 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 27: CREATE TABLE sources (
  uuid           UUID PRIMARY KEY,
  type           VARCHAR(64) NOT NULL,
  created_at     TIMESTAMP NOT NULL,
  updated_at     TIMESTAMP NOT NULL,
  name           VARCHAR(64) UNIQUE NOT NULL,
  connection_url VARCHAR(255) NOT NULL,
  description    TEXT,
  UNIQUE (name, connection_url)
)
10:12:25.612 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 38: CREATE TABLE datasets (
  uuid                 UUID PRIMARY KEY,
  type                 VARCHAR(64) NOT NULL,
  created_at           TIMESTAMP NOT NULL,
  updated_at           TIMESTAMP NOT NULL,
  namespace_uuid       UUID REFERENCES namespaces(uuid),
  source_uuid          UUID REFERENCES sources(uuid),
  name                 VARCHAR(255) NOT NULL,
  physical_name        VARCHAR(255) NOT NULL,
  description          TEXT,
  current_version_uuid UUID,
  UNIQUE (namespace_uuid, source_uuid, name, physical_name)
)
10:12:25.613 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 52: CREATE TABLE jobs (
  uuid                 UUID PRIMARY KEY,
  type                 VARCHAR(64) NOT NULL,
  created_at           TIMESTAMP NOT NULL,
  updated_at           TIMESTAMP NOT NULL,
  namespace_uuid       UUID REFERENCES namespaces(uuid),
  name                 VARCHAR(255) UNIQUE NOT NULL,
  description          TEXT,
  current_version_uuid UUID,
  UNIQUE (namespace_uuid, name)
)
10:12:25.613 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 64: CREATE TABLE job_versions (
  uuid            UUID PRIMARY KEY,
  created_at      TIMESTAMP NOT NULL,
  updated_at      TIMESTAMP NOT NULL,
  job_uuid        UUID REFERENCES jobs(uuid),
  version         UUID NOT NULL,
  location        VARCHAR(255) NOT NULL,
  latest_run_uuid UUID,
  UNIQUE (job_uuid, version)
)
10:12:25.613 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 75: CREATE TABLE job_versions_io_mapping (
  job_version_uuid UUID REFERENCES job_versions(uuid),
  dataset_uuid     UUID REFERENCES datasets(uuid),
  io_type          VARCHAR(64) NOT NULL,
  PRIMARY KEY (job_version_uuid, dataset_uuid, io_type)
)
10:12:25.614 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 82: CREATE TABLE run_args (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  args       VARCHAR(255) NOT NULL,
  checksum   VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.614 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 89: CREATE TABLE runs (
  uuid               UUID PRIMARY KEY,
  created_at         TIMESTAMP NOT NULL,
  updated_at         TIMESTAMP NOT NULL,
  job_version_uuid   UUID REFERENCES job_versions(uuid),
  run_args_uuid      UUID REFERENCES run_args(uuid),
  nominal_start_time TIMESTAMP,
  nominal_end_time   TIMESTAMP,
  current_run_state  VARCHAR(64)
)
10:12:25.616 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 100: CREATE TABLE run_states (
  uuid            UUID PRIMARY KEY,
  transitioned_at TIMESTAMP NOT NULL,
  run_uuid        UUID REFERENCES runs(uuid),
  state           VARCHAR(64) NOT NULL
)
10:12:25.618 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 107: CREATE TABLE dataset_versions (
  uuid         UUID PRIMARY KEY,
  created_at   TIMESTAMP NOT NULL,
  dataset_uuid UUID REFERENCES datasets(uuid),
  version      UUID NOT NULL,
  run_uuid     UUID,
  UNIQUE (dataset_uuid, version)
)
10:12:25.618 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 116: CREATE TABLE stream_versions (
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  schema_location      VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.618 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 121: CREATE TABLE runs_input_mapping (
  run_uuid             UUID REFERENCES runs(uuid),
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  PRIMARY KEY (run_uuid, dataset_version_uuid)
)
10:12:25.619 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1 - initial schema" ...
10:12:25.622 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "1 - initial schema"
10:12:25.625 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE namespaces (
  uuid               UUID PRIMARY KEY,
  created_at         TIMESTAMP NOT NULL,
  updated_at         TIMESTAMP NOT NULL,
  name               VARCHAR(64) UNIQUE NOT NULL,
  description        TEXT,
  current_owner_name VARCHAR(64)
)
10:12:25.628 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.628 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE owners (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  name       VARCHAR(64) UNIQUE NOT NULL
)
10:12:25.629 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.630 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE namespace_ownerships (
  uuid           UUID PRIMARY KEY,
  started_at     TIMESTAMP NOT NULL,
  ended_at       TIMESTAMP,
  namespace_uuid UUID REFERENCES namespaces(uuid),
  owner_uuid     UUID REFERENCES owners(uuid),
  UNIQUE (namespace_uuid, owner_uuid)
)
10:12:25.632 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.632 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE sources (
  uuid           UUID PRIMARY KEY,
  type           VARCHAR(64) NOT NULL,
  created_at     TIMESTAMP NOT NULL,
  updated_at     TIMESTAMP NOT NULL,
  name           VARCHAR(64) UNIQUE NOT NULL,
  connection_url VARCHAR(255) NOT NULL,
  description    TEXT,
  UNIQUE (name, connection_url)
)
10:12:25.634 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.634 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE datasets (
  uuid                 UUID PRIMARY KEY,
  type                 VARCHAR(64) NOT NULL,
  created_at           TIMESTAMP NOT NULL,
  updated_at           TIMESTAMP NOT NULL,
  namespace_uuid       UUID REFERENCES namespaces(uuid),
  source_uuid          UUID REFERENCES sources(uuid),
  name                 VARCHAR(255) NOT NULL,
  physical_name        VARCHAR(255) NOT NULL,
  description          TEXT,
  current_version_uuid UUID,
  UNIQUE (namespace_uuid, source_uuid, name, physical_name)
)
10:12:25.636 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.636 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE jobs (
  uuid                 UUID PRIMARY KEY,
  type                 VARCHAR(64) NOT NULL,
  created_at           TIMESTAMP NOT NULL,
  updated_at           TIMESTAMP NOT NULL,
  namespace_uuid       UUID REFERENCES namespaces(uuid),
  name                 VARCHAR(255) UNIQUE NOT NULL,
  description          TEXT,
  current_version_uuid UUID,
  UNIQUE (namespace_uuid, name)
)
10:12:25.639 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.639 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE job_versions (
  uuid            UUID PRIMARY KEY,
  created_at      TIMESTAMP NOT NULL,
  updated_at      TIMESTAMP NOT NULL,
  job_uuid        UUID REFERENCES jobs(uuid),
  version         UUID NOT NULL,
  location        VARCHAR(255) NOT NULL,
  latest_run_uuid UUID,
  UNIQUE (job_uuid, version)
)
10:12:25.641 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.641 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE job_versions_io_mapping (
  job_version_uuid UUID REFERENCES job_versions(uuid),
  dataset_uuid     UUID REFERENCES datasets(uuid),
  io_type          VARCHAR(64) NOT NULL,
  PRIMARY KEY (job_version_uuid, dataset_uuid, io_type)
)
10:12:25.642 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.642 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE run_args (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  args       VARCHAR(255) NOT NULL,
  checksum   VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.644 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.644 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE runs (
  uuid               UUID PRIMARY KEY,
  created_at         TIMESTAMP NOT NULL,
  updated_at         TIMESTAMP NOT NULL,
  job_version_uuid   UUID REFERENCES job_versions(uuid),
  run_args_uuid      UUID REFERENCES run_args(uuid),
  nominal_start_time TIMESTAMP,
  nominal_end_time   TIMESTAMP,
  current_run_state  VARCHAR(64)
)
10:12:25.646 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.646 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE run_states (
  uuid            UUID PRIMARY KEY,
  transitioned_at TIMESTAMP NOT NULL,
  run_uuid        UUID REFERENCES runs(uuid),
  state           VARCHAR(64) NOT NULL
)
10:12:25.648 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.648 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE dataset_versions (
  uuid         UUID PRIMARY KEY,
  created_at   TIMESTAMP NOT NULL,
  dataset_uuid UUID REFERENCES datasets(uuid),
  version      UUID NOT NULL,
  run_uuid     UUID,
  UNIQUE (dataset_uuid, version)
)
10:12:25.649 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.649 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE stream_versions (
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  schema_location      VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.651 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.651 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE runs_input_mapping (
  run_uuid             UUID REFERENCES runs(uuid),
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  PRIMARY KEY (run_uuid, dataset_version_uuid)
)
10:12:25.653 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.653 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1 - initial schema"
10:12:25.660 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.669 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V2__add_job_contexts.sql ...
10:12:25.671 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE job_contexts (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  context    TEXT NOT NULL,
  checksum   VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.671 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "2 - add job contexts" ...
10:12:25.674 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "2 - add job contexts"
10:12:25.676 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE job_contexts (
  uuid       UUID PRIMARY KEY,
  created_at TIMESTAMP NOT NULL,
  context    TEXT NOT NULL,
  checksum   VARCHAR(255) UNIQUE NOT NULL
)
10:12:25.678 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.678 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "2 - add job contexts"
10:12:25.683 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.693 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V2.1__alter_job_versions_to_add_job_context_uuid.sql ...
10:12:25.694 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ADD job_context_uuid UUID NOT NULL
10:12:25.694 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "2.1 - alter job versions to add job context uuid" ...
10:12:25.697 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "2.1 - alter job versions to add job context uuid"
10:12:25.698 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ADD job_context_uuid UUID NOT NULL
10:12:25.699 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.699 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "2.1 - alter job versions to add job context uuid"
10:12:25.704 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.709 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V3__drop_not_null_constraint_on_job_location.sql ...
10:12:25.710 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ALTER COLUMN location DROP NOT NULL
10:12:25.710 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "3 - drop not null constraint on job location" ...
10:12:25.713 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "3 - drop not null constraint on job location"
10:12:25.715 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ALTER COLUMN location DROP NOT NULL
10:12:25.716 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.716 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "3 - drop not null constraint on job location"
10:12:25.720 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.727 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V4__add_dataset_fields.sql ...
10:12:25.728 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE dataset_fields (
  uuid         UUID PRIMARY KEY,
  type         VARCHAR(64) NOT NULL,
  created_at   TIMESTAMP NOT NULL,
  updated_at   TIMESTAMP NOT NULL,
  dataset_uuid UUID REFERENCES datasets(uuid),
  name         VARCHAR(255) NOT NULL,
  description  TEXT,
  UNIQUE (dataset_uuid, name)
)
10:12:25.728 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: CREATE TABLE dataset_versions_field_mapping (
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  dataset_field_uuid   UUID REFERENCES dataset_fields(uuid),
  PRIMARY KEY (dataset_version_uuid, dataset_field_uuid)
)
10:12:25.728 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "4 - add dataset fields" ...
10:12:25.731 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "4 - add dataset fields"
10:12:25.733 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE dataset_fields (
  uuid         UUID PRIMARY KEY,
  type         VARCHAR(64) NOT NULL,
  created_at   TIMESTAMP NOT NULL,
  updated_at   TIMESTAMP NOT NULL,
  dataset_uuid UUID REFERENCES datasets(uuid),
  name         VARCHAR(255) NOT NULL,
  description  TEXT,
  UNIQUE (dataset_uuid, name)
)
10:12:25.735 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.735 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE dataset_versions_field_mapping (
  dataset_version_uuid UUID REFERENCES dataset_versions(uuid),
  dataset_field_uuid   UUID REFERENCES dataset_fields(uuid),
  PRIMARY KEY (dataset_version_uuid, dataset_field_uuid)
)
10:12:25.737 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.737 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "4 - add dataset fields"
10:12:25.741 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.747 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V5__add_tags.sql ...
10:12:25.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE tags (
  uuid        UUID PRIMARY KEY,
  created_at  TIMESTAMP NOT NULL,
  updated_at  TIMESTAMP NOT NULL,
  name        VARCHAR(255) NOT NULL UNIQUE,
  description TEXT
)
10:12:25.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: CREATE TABLE datasets_tag_mapping (
  dataset_uuid UUID REFERENCES datasets(uuid),
  tag_uuid     UUID REFERENCES tags(uuid),
  tagged_at    TIMESTAMP NOT NULL,
  PRIMARY KEY (tag_uuid, dataset_uuid)
)
10:12:25.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 18: CREATE TABLE dataset_fields_tag_mapping (
  dataset_field_uuid UUID REFERENCES dataset_fields(uuid),
  tag_uuid           UUID REFERENCES tags(uuid),
  tagged_at          TIMESTAMP NOT NULL,
  PRIMARY KEY (tag_uuid, dataset_field_uuid)
)
10:12:25.748 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "5 - add tags" ...
10:12:25.751 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "5 - add tags"
10:12:25.753 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE tags (
  uuid        UUID PRIMARY KEY,
  created_at  TIMESTAMP NOT NULL,
  updated_at  TIMESTAMP NOT NULL,
  name        VARCHAR(255) NOT NULL UNIQUE,
  description TEXT
)
10:12:25.754 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.755 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE datasets_tag_mapping (
  dataset_uuid UUID REFERENCES datasets(uuid),
  tag_uuid     UUID REFERENCES tags(uuid),
  tagged_at    TIMESTAMP NOT NULL,
  PRIMARY KEY (tag_uuid, dataset_uuid)
)
10:12:25.756 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.756 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE dataset_fields_tag_mapping (
  dataset_field_uuid UUID REFERENCES dataset_fields(uuid),
  tag_uuid           UUID REFERENCES tags(uuid),
  tagged_at          TIMESTAMP NOT NULL,
  PRIMARY KEY (tag_uuid, dataset_field_uuid)
)
10:12:25.758 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.758 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "5 - add tags"
10:12:25.762 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.767 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V6__alter_datasets_to_add_last_modified.sql ...
10:12:25.768 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets ADD last_modified TIMESTAMP
10:12:25.768 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "6 - alter datasets to add last modified" ...
10:12:25.771 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "6 - alter datasets to add last modified"
10:12:25.773 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets ADD last_modified TIMESTAMP
10:12:25.775 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.775 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "6 - alter datasets to add last modified"
10:12:25.779 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.786 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V7__alter_run_args_to_change_args.sql ...
10:12:25.787 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE run_args ALTER COLUMN args TYPE TEXT
10:12:25.787 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "7 - alter run args to change args" ...
10:12:25.790 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "7 - alter run args to change args"
10:12:25.792 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE run_args ALTER COLUMN args TYPE TEXT
10:12:25.793 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.793 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "7 - alter run args to change args"
10:12:25.798 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.803 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V8__alter_datasets_to_change_unique_constraint.sql ...
10:12:25.803 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets DROP CONSTRAINT datasets_namespace_uuid_source_uuid_name_physical_name_key
10:12:25.803 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE datasets ADD UNIQUE (namespace_uuid, name)
10:12:25.803 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE datasets ADD UNIQUE (source_uuid, physical_name)
10:12:25.803 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "8 - alter datasets to change unique constraint" ...
10:12:25.806 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "8 - alter datasets to change unique constraint"
10:12:25.808 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets DROP CONSTRAINT datasets_namespace_uuid_source_uuid_name_physical_name_key
10:12:25.809 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.809 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ADD UNIQUE (namespace_uuid, name)
10:12:25.810 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.810 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ADD UNIQUE (source_uuid, physical_name)
10:12:25.811 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.811 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "8 - alter datasets to change unique constraint"
10:12:25.815 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.820 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V9__alter_sources_to_drop_composite_unique_constraint.sql ...
10:12:25.821 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE sources DROP CONSTRAINT sources_name_connection_url_key
10:12:25.821 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "9 - alter sources to drop composite unique constraint" ...
10:12:25.823 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "9 - alter sources to drop composite unique constraint"
10:12:25.825 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE sources DROP CONSTRAINT sources_name_connection_url_key
10:12:25.826 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.826 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "9 - alter sources to drop composite unique constraint"
10:12:25.830 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.836 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V10__drop_unique_constraint_on_job_name.sql ...
10:12:25.836 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs DROP CONSTRAINT jobs_name_key
10:12:25.836 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "10 - drop unique constraint on job name" ...
10:12:25.839 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "10 - drop unique constraint on job name"
10:12:25.841 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs DROP CONSTRAINT jobs_name_key
10:12:25.843 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.843 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "10 - drop unique constraint on job name"
10:12:25.853 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.859 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V11__alter_datasets_to_rename_last_modified.sql ...
10:12:25.860 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets RENAME last_modified TO last_modified_at
10:12:25.860 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "11 - alter datasets to rename last modified" ...
10:12:25.863 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "11 - alter datasets to rename last modified"
10:12:25.864 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets RENAME last_modified TO last_modified_at
10:12:25.865 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.865 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "11 - alter datasets to rename last modified"
10:12:25.867 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.872 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V12__alter_dataset_fields_to_change_unique_constraint.sql ...
10:12:25.873 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields DROP CONSTRAINT dataset_fields_dataset_uuid_name_key
10:12:25.873 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE dataset_fields ADD UNIQUE (dataset_uuid, name, type)
10:12:25.873 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "12 - alter dataset fields to change unique constraint" ...
10:12:25.876 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "12 - alter dataset fields to change unique constraint"
10:12:25.877 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields DROP CONSTRAINT dataset_fields_dataset_uuid_name_key
10:12:25.878 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.878 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_fields ADD UNIQUE (dataset_uuid, name, type)
10:12:25.879 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.879 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "12 - alter dataset fields to change unique constraint"
10:12:25.883 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.888 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V13__alter_run_add_start_end_state.sql ...
10:12:25.888 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD start_run_state_uuid UUID REFERENCES run_states(uuid)
10:12:25.888 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE runs ADD end_run_state_uuid UUID REFERENCES run_states(uuid)
10:12:25.888 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "13 - alter run add start end state" ...
10:12:25.891 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "13 - alter run add start end state"
10:12:25.893 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD start_run_state_uuid UUID REFERENCES run_states(uuid)
10:12:25.894 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.894 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD end_run_state_uuid UUID REFERENCES run_states(uuid)
10:12:25.895 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.895 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "13 - alter run add start end state"
10:12:25.899 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.904 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V14__index_datasetversion_datasetid.sql ...
10:12:25.905 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE INDEX datasetversion_datasetid_idx ON dataset_versions (dataset_uuid)
10:12:25.905 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "14 - index datasetversion datasetid" ...
10:12:25.908 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "14 - index datasetversion datasetid"
10:12:25.909 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE INDEX datasetversion_datasetid_idx ON dataset_versions (dataset_uuid)
10:12:25.910 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.910 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "14 - index datasetversion datasetid"
10:12:25.912 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.915 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V15__index_created_at_and_current_run_state_on_runs.sql ...
10:12:25.916 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_current_run_state_index
    on runs (created_at desc, current_run_state)
10:12:25.916 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "15 - index created at and current run state on runs" ...
10:12:25.918 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "15 - index created at and current run state on runs"
10:12:25.919 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_current_run_state_index
    on runs (created_at desc, current_run_state)
10:12:25.920 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.920 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "15 - index created at and current run state on runs"
10:12:25.923 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.927 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V16__index_created_at_on_runs.sql ...
10:12:25.927 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_index
    on runs (created_at desc)
10:12:25.927 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "16 - index created at on runs" ...
10:12:25.929 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "16 - index created at on runs"
10:12:25.931 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_index
    on runs (created_at desc)
10:12:25.932 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.932 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "16 - index created at on runs"
10:12:25.934 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.938 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V17.1__unique_version_constraint.sql ...
10:12:25.938 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_versions ADD CONSTRAINT dataset_versions_version UNIQUE(version)
10:12:25.938 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE job_versions ADD CONSTRAINT job_versions_version UNIQUE(version)
10:12:25.938 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "17.1 - unique version constraint" ...
10:12:25.940 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "17.1 - unique version constraint"
10:12:25.941 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_versions ADD CONSTRAINT dataset_versions_version UNIQUE(version)
10:12:25.943 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.943 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions ADD CONSTRAINT job_versions_version UNIQUE(version)
10:12:25.944 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.944 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "17.1 - unique version constraint"
10:12:25.946 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.951 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V17.2__open_lineage.sql ...
10:12:25.951 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE lineage_events (
  event_time timestamp with time zone,
  event jsonb,
  event_type text,
  run_id text,
  job_name text,
  job_namespace text,
  producer text,
  CONSTRAINT lineage_event_pk
   PRIMARY KEY(event_time, event)
)
10:12:25.951 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "17.2 - open lineage" ...
10:12:25.953 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "17.2 - open lineage"
10:12:25.954 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE lineage_events (
  event_time timestamp with time zone,
  event jsonb,
  event_type text,
  run_id text,
  job_name text,
  job_namespace text,
  producer text,
  CONSTRAINT lineage_event_pk
   PRIMARY KEY(event_time, event)
)
10:12:25.955 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.955 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "17.2 - open lineage"
10:12:25.957 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.961 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V18__drop_dataset_constraint.sql ...
10:12:25.961 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

alter table datasets drop constraint datasets_source_uuid_physical_name_key
10:12:25.961 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "18 - drop dataset constraint" ...
10:12:25.963 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "18 - drop dataset constraint"
10:12:25.964 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

alter table datasets drop constraint datasets_source_uuid_physical_name_key
10:12:25.964 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.964 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "18 - drop dataset constraint"
10:12:25.967 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.970 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V19__alter_run_to_add_external_id.sql ...
10:12:25.970 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD external_id VARCHAR(255)
10:12:25.970 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "19 - alter run to add external id" ...
10:12:25.972 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "19 - alter run to add external id"
10:12:25.973 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD external_id VARCHAR(255)
10:12:25.973 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.973 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "19 - alter run to add external id"
10:12:25.975 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.978 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V20__drop_lineage_pk.sql ...
10:12:25.979 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE lineage_events DROP CONSTRAINT lineage_event_pk
10:12:25.979 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "20 - drop lineage pk" ...
10:12:25.980 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "20 - drop lineage pk"
10:12:25.981 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE lineage_events DROP CONSTRAINT lineage_event_pk
10:12:25.982 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.982 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "20 - drop lineage pk"
10:12:25.984 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.988 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V21__alter_jobs_to_add_namespace_name.sql ...
10:12:25.988 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs ADD namespace_name VARCHAR(255)
10:12:25.989 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: UPDATE jobs SET namespace_name = namespaces.name FROM namespaces WHERE jobs.namespace_uuid = namespaces.uuid
10:12:25.989 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "21 - alter jobs to add namespace name" ...
10:12:25.990 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "21 - alter jobs to add namespace name"
10:12:25.991 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs ADD namespace_name VARCHAR(255)
10:12:25.992 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.992 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE jobs SET namespace_name = namespaces.name FROM namespaces WHERE jobs.namespace_uuid = namespaces.uuid
10:12:25.993 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:25.993 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "21 - alter jobs to add namespace name"
10:12:25.995 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V22__alter_job_versions_to_add_namespace.sql ...
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ADD namespace_uuid UUID
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE job_versions ADD namespace_name VARCHAR(255)
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE job_versions ADD job_name VARCHAR(255)
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: UPDATE job_versions SET
  namespace_uuid = jobs.namespace_uuid,
  namespace_name = jobs.namespace_name,
  job_name = jobs.name
FROM jobs
WHERE job_versions.job_uuid = jobs.uuid
10:12:25.999 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX job_versions_selector
    ON job_versions (job_name, namespace_name)
10:12:26.000 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "22 - alter job versions to add namespace" ...
10:12:26.001 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "22 - alter job versions to add namespace"
10:12:26.002 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ADD namespace_uuid UUID
10:12:26.003 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.003 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions ADD namespace_name VARCHAR(255)
10:12:26.003 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.003 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions ADD job_name VARCHAR(255)
10:12:26.004 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.004 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE job_versions SET
  namespace_uuid = jobs.namespace_uuid,
  namespace_name = jobs.namespace_name,
  job_name = jobs.name
FROM jobs
WHERE job_versions.job_uuid = jobs.uuid
10:12:26.005 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.005 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX job_versions_selector
    ON job_versions (job_name, namespace_name)
10:12:26.005 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.005 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "22 - alter job versions to add namespace"
10:12:26.007 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.011 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V23__alter_runs.sql ...
10:12:26.011 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD namespace_name varchar
10:12:26.011 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE runs ADD job_name varchar
10:12:26.011 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE runs ADD location varchar
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: UPDATE runs SET
  namespace_name = jv.namespace_name,
  job_name = jv.job_name,
  location = jv.location
FROM job_versions jv
WHERE jv.uuid = runs.job_version_uuid
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: ALTER TABLE runs ADD transitioned_at varchar
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 15: ALTER TABLE runs ADD started_at TIMESTAMP
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 16: ALTER TABLE runs ADD ended_at TIMESTAMP
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 18: UPDATE runs SET
  transitioned_at = updated_at
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 21: UPDATE runs SET
  started_at = rs_s.transitioned_at
FROM run_states rs_s
WHERE rs_s.uuid = start_run_state_uuid
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 26: UPDATE runs SET
  ended_at = rs_e.transitioned_at
FROM run_states rs_e
WHERE rs_e.uuid = end_run_state_uuid
10:12:26.012 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "23 - alter runs" ...
10:12:26.014 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "23 - alter runs"
10:12:26.015 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD namespace_name varchar
10:12:26.015 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.015 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD job_name varchar
10:12:26.016 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.016 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD location varchar
10:12:26.017 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.017 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE runs SET
  namespace_name = jv.namespace_name,
  job_name = jv.job_name,
  location = jv.location
FROM job_versions jv
WHERE jv.uuid = runs.job_version_uuid
10:12:26.017 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.017 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD transitioned_at varchar
10:12:26.018 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.018 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD started_at TIMESTAMP
10:12:26.018 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.018 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD ended_at TIMESTAMP
10:12:26.019 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.019 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE runs SET
  transitioned_at = updated_at
10:12:26.020 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.020 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE runs SET
  started_at = rs_s.transitioned_at
FROM run_states rs_s
WHERE rs_s.uuid = start_run_state_uuid
10:12:26.020 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.020 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE runs SET
  ended_at = rs_e.transitioned_at
FROM run_states rs_e
WHERE rs_e.uuid = end_run_state_uuid
10:12:26.021 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.021 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "23 - alter runs"
10:12:26.023 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.026 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V24__alter_jobs.sql ...
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs ADD current_job_context_uuid UUID
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE jobs ADD current_location varchar
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE jobs ADD current_inputs JSONB
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: ALTER TABLE jobs ADD current_outputs JSONB
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: UPDATE jobs SET
  current_job_context_uuid = jv.job_context_uuid,
  current_location = jv.location
FROM job_versions jv
WHERE current_version_uuid = jv.uuid
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: UPDATE jobs SET (current_inputs) = (select jsonb_agg(query) from
  (select jv.namespace_name as namespaceName, ds.name as datasetName
   from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
   where m.io_type = 'INPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 19: UPDATE jobs SET (current_outputs) = (select jsonb_agg(query) from
  (select jv.namespace_name as namespaceName, ds.name as datasetName
   from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
   where m.io_type = 'OUTPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.027 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "24 - alter jobs" ...
10:12:26.031 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "24 - alter jobs"
10:12:26.032 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs ADD current_job_context_uuid UUID
10:12:26.033 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.033 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD current_location varchar
10:12:26.034 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.034 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD current_inputs JSONB
10:12:26.034 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.034 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD current_outputs JSONB
10:12:26.035 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.035 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE jobs SET
  current_job_context_uuid = jv.job_context_uuid,
  current_location = jv.location
FROM job_versions jv
WHERE current_version_uuid = jv.uuid
10:12:26.035 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.035 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE jobs SET (current_inputs) = (select jsonb_agg(query) from
  (select jv.namespace_name as namespaceName, ds.name as datasetName
   from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
   where m.io_type = 'INPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.037 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.037 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE jobs SET (current_outputs) = (select jsonb_agg(query) from
  (select jv.namespace_name as namespaceName, ds.name as datasetName
   from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
   where m.io_type = 'OUTPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.037 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.037 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "24 - alter jobs"
10:12:26.040 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.043 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V25__alter_datasets.sql ...
10:12:26.044 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets ADD namespace_name varchar
10:12:26.044 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: UPDATE datasets SET
namespace_name = n.name
FROM namespaces n
WHERE n.uuid = datasets.namespace_uuid
10:12:26.045 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: ALTER TABLE datasets ADD source_name varchar
10:12:26.045 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: UPDATE datasets SET
    source_name = s.name
FROM sources s
WHERE s.uuid = datasets.source_uuid
10:12:26.045 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "25 - alter datasets" ...
10:12:26.046 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "25 - alter datasets"
10:12:26.047 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE datasets ADD namespace_name varchar
10:12:26.048 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.048 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE datasets SET
namespace_name = n.name
FROM namespaces n
WHERE n.uuid = datasets.namespace_uuid
10:12:26.049 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.049 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ADD source_name varchar
10:12:26.049 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.049 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE datasets SET
    source_name = s.name
FROM sources s
WHERE s.uuid = datasets.source_uuid
10:12:26.050 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.050 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "25 - alter datasets"
10:12:26.052 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V26__alter_jobs_change_type.sql ...
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs
  ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE jobs
  ALTER COLUMN name TYPE VARCHAR
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: ALTER TABLE job_versions
    ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: ALTER TABLE job_versions
    ALTER COLUMN job_name TYPE VARCHAR
10:12:26.056 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "26 - alter jobs change type" ...
10:12:26.058 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "26 - alter jobs change type"
10:12:26.060 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE jobs
  ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.061 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.061 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
  ALTER COLUMN name TYPE VARCHAR
10:12:26.062 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.062 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions
    ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.063 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.063 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions
    ALTER COLUMN job_name TYPE VARCHAR
10:12:26.064 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.064 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "26 - alter jobs change type"
10:12:26.066 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.070 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V27__alter_runs_add_context.sql ...
10:12:26.070 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD job_context_uuid uuid
10:12:26.070 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: UPDATE runs SET
    job_context_uuid = jv.job_context_uuid
FROM job_versions jv
WHERE jv.uuid = runs.job_version_uuid
10:12:26.070 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "27 - alter runs add context" ...
10:12:26.072 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "27 - alter runs add context"
10:12:26.073 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE runs ADD job_context_uuid uuid
10:12:26.073 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.073 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE runs SET
    job_context_uuid = jv.job_context_uuid
FROM job_versions jv
WHERE jv.uuid = runs.job_version_uuid
10:12:26.074 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.074 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "27 - alter runs add context"
10:12:26.076 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.080 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V28__update_jobs_fix_inputs.sql ...
10:12:26.080 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

UPDATE jobs SET (current_inputs) = (select jsonb_agg(query) from
    (select distinct ds.namespace_name as "namespace", ds.name as "name"
     from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
     where m.io_type = 'INPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.080 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: alter table jobs drop column current_outputs
10:12:26.080 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "28 - update jobs fix inputs" ...
10:12:26.082 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "28 - update jobs fix inputs"
10:12:26.083 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

UPDATE jobs SET (current_inputs) = (select jsonb_agg(query) from
    (select distinct ds.namespace_name as "namespace", ds.name as "name"
     from job_versions_io_mapping m inner join job_versions jv on m.job_version_uuid = jv.uuid inner join datasets ds on m.dataset_uuid = ds.uuid
     where m.io_type = 'INPUT' and jobs.uuid = jv.job_uuid) query)
10:12:26.084 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.084 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table jobs drop column current_outputs
10:12:26.084 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.085 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "28 - update jobs fix inputs"
10:12:26.087 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.090 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V29__alter_dataset_versions_add_fields.sql ...
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: /* SPDX-License-Identifier: Apache-2.0 */

-- Denormalize fields to dataset versions
alter table dataset_versions add column fields jsonb
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: UPDATE dataset_versions SET (fields) = (select jsonb_agg((select x from (select distinct f.name, f.type, f.description,
       ARRAY(select t.name from tags t
       inner join dataset_fields_tag_mapping m on m.tag_uuid = t.uuid
       where f.uuid = m.dataset_field_uuid) as tags) as x)) as fields
     from dataset_fields f
     inner join dataset_versions_field_mapping fm on fm.dataset_field_uuid = f.uuid
     where fm.dataset_version_uuid = dataset_versions.uuid
     group by fm.dataset_version_uuid)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 15: -- Denormalize namespace name and dataset name to dataset versions
alter table dataset_versions ADD COLUMN namespace_name varchar(255)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 16: alter table dataset_versions ADD COLUMN dataset_name varchar(255)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 17: UPDATE dataset_versions SET
    namespace_name = d.namespace_name,
    dataset_name = d.name
FROM datasets d
WHERE d.uuid = dataset_versions.dataset_uuid
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 24: --Add indexes for common usages
create index dataset_versions_run_uuid
    on dataset_versions (run_uuid)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 26: create index dataset_versions_name
    on dataset_versions (dataset_name, namespace_name, created_at DESC)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 28: create unique index dataset_name_index
    on datasets (name, namespace_name)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 30: create index dataset_fields_tag_mapping_tag_index
    on dataset_fields_tag_mapping (tag_uuid)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 32: create index dataset_versions_field_mapping_index
    on dataset_versions_field_mapping (dataset_field_uuid)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 34: create index dataset_fields_name_index
    on dataset_fields (name, dataset_uuid)
10:12:26.091 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 36: create unique index stream_versions_dataset_version_index
    on stream_versions (dataset_version_uuid)
10:12:26.092 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 39: create index runs_created_at_completed_index
    on runs(created_at DESC)
    include (job_name, namespace_name, started_at, ended_at)
    where current_run_state = 'COMPLETED'
10:12:26.092 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 43: create index runs_created_at_completed_by_name_index
    on runs(job_name, namespace_name, created_at DESC)
    include (started_at, ended_at)
    where current_run_state = 'COMPLETED'
10:12:26.092 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 47: create index jobs_name_index
    on jobs(name, namespace_name)
10:12:26.092 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "29 - alter dataset versions add fields" ...
10:12:26.093 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "29 - alter dataset versions add fields"
10:12:26.094 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

-- Denormalize fields to dataset versions
alter table dataset_versions add column fields jsonb
10:12:26.095 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.095 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE dataset_versions SET (fields) = (select jsonb_agg((select x from (select distinct f.name, f.type, f.description,
       ARRAY(select t.name from tags t
       inner join dataset_fields_tag_mapping m on m.tag_uuid = t.uuid
       where f.uuid = m.dataset_field_uuid) as tags) as x)) as fields
     from dataset_fields f
     inner join dataset_versions_field_mapping fm on fm.dataset_field_uuid = f.uuid
     where fm.dataset_version_uuid = dataset_versions.uuid
     group by fm.dataset_version_uuid)
10:12:26.118 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.118 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: -- Denormalize namespace name and dataset name to dataset versions
alter table dataset_versions ADD COLUMN namespace_name varchar(255)
10:12:26.118 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.118 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table dataset_versions ADD COLUMN dataset_name varchar(255)
10:12:26.119 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.119 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE dataset_versions SET
    namespace_name = d.namespace_name,
    dataset_name = d.name
FROM datasets d
WHERE d.uuid = dataset_versions.dataset_uuid
10:12:26.120 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.120 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: --Add indexes for common usages
create index dataset_versions_run_uuid
    on dataset_versions (run_uuid)
10:12:26.120 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.120 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_versions_name
    on dataset_versions (dataset_name, namespace_name, created_at DESC)
10:12:26.121 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.121 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create unique index dataset_name_index
    on datasets (name, namespace_name)
10:12:26.121 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.121 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_fields_tag_mapping_tag_index
    on dataset_fields_tag_mapping (tag_uuid)
10:12:26.122 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.122 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_versions_field_mapping_index
    on dataset_versions_field_mapping (dataset_field_uuid)
10:12:26.123 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.123 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_fields_name_index
    on dataset_fields (name, dataset_uuid)
10:12:26.124 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.124 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create unique index stream_versions_dataset_version_index
    on stream_versions (dataset_version_uuid)
10:12:26.125 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.125 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index runs_created_at_completed_index
    on runs(created_at DESC)
    include (job_name, namespace_name, started_at, ended_at)
    where current_run_state = 'COMPLETED'
10:12:26.126 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.126 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index runs_created_at_completed_by_name_index
    on runs(job_name, namespace_name, created_at DESC)
    include (started_at, ended_at)
    where current_run_state = 'COMPLETED'
10:12:26.127 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.127 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index jobs_name_index
    on jobs(name, namespace_name)
10:12:26.128 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.128 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "29 - alter dataset versions add fields"
10:12:26.130 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.133 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V30__alter_runs_change_transitioned_at_type.sql ...
10:12:26.134 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

alter table runs alter column transitioned_at type timestamp without time zone
    USING transitioned_at::timestamp without time zone
10:12:26.135 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "30 - alter runs change transitioned at type" ...
10:12:26.136 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "30 - alter runs change transitioned at type"
10:12:26.137 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

alter table runs alter column transitioned_at type timestamp without time zone
    USING transitioned_at::timestamp without time zone
10:12:26.139 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.139 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "30 - alter runs change transitioned at type"
10:12:26.141 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.144 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V31__alter_job_io_mapping.sql ...
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create table job_versions_io_mapping_inputs as select * from job_versions_io_mapping where io_type = 'INPUT'
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: create table job_versions_io_mapping_outputs as select * from job_versions_io_mapping where io_type = 'OUTPUT'
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: alter table job_versions_io_mapping_inputs add column job_uuid uuid
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: alter table job_versions_io_mapping_outputs add column job_uuid uuid
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: update job_versions_io_mapping_outputs set job_uuid = j.job_uuid from job_versions j where job_version_uuid = j.uuid
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: update job_versions_io_mapping_inputs set job_uuid = j.job_uuid from job_versions j where job_version_uuid = j.uuid
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: create index job_versions_io_mapping_outputs_jv_idx on job_versions_io_mapping_outputs (job_version_uuid) include (dataset_uuid)
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: create index job_versions_io_mapping_outputs_ds_idx on job_versions_io_mapping_outputs (dataset_uuid) include (job_version_uuid)
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 12: create index job_versions_io_mapping_inputs_jv_idx on job_versions_io_mapping_inputs (job_version_uuid) include (dataset_uuid)
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 13: create index job_versions_io_mapping_inputs_ds_idx on job_versions_io_mapping_inputs (dataset_uuid) include (job_version_uuid)
10:12:26.145 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "31 - alter job io mapping" ...
10:12:26.147 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "31 - alter job io mapping"
10:12:26.148 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create table job_versions_io_mapping_inputs as select * from job_versions_io_mapping where io_type = 'INPUT'
10:12:26.148 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.148 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create table job_versions_io_mapping_outputs as select * from job_versions_io_mapping where io_type = 'OUTPUT'
10:12:26.149 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.149 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table job_versions_io_mapping_inputs add column job_uuid uuid
10:12:26.150 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.150 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table job_versions_io_mapping_outputs add column job_uuid uuid
10:12:26.150 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.150 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: update job_versions_io_mapping_outputs set job_uuid = j.job_uuid from job_versions j where job_version_uuid = j.uuid
10:12:26.151 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.151 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: update job_versions_io_mapping_inputs set job_uuid = j.job_uuid from job_versions j where job_version_uuid = j.uuid
10:12:26.151 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.151 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_versions_io_mapping_outputs_jv_idx on job_versions_io_mapping_outputs (job_version_uuid) include (dataset_uuid)
10:12:26.152 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.152 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_versions_io_mapping_outputs_ds_idx on job_versions_io_mapping_outputs (dataset_uuid) include (job_version_uuid)
10:12:26.152 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.152 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_versions_io_mapping_inputs_jv_idx on job_versions_io_mapping_inputs (job_version_uuid) include (dataset_uuid)
10:12:26.153 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.153 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_versions_io_mapping_inputs_ds_idx on job_versions_io_mapping_inputs (dataset_uuid) include (job_version_uuid)
10:12:26.154 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.154 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "31 - alter job io mapping"
10:12:26.155 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.158 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V32__index_runs_created_at.sql ...
10:12:26.159 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_by_name_index
    on runs(job_name, namespace_name, created_at DESC)
    include (uuid, created_at, updated_at, nominal_start_time, nominal_end_time, current_run_state, started_at, ended_at, namespace_name, job_name, location)
10:12:26.159 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "32 - index runs created at" ...
10:12:26.160 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "32 - index runs created at"
10:12:26.161 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create index runs_created_at_by_name_index
    on runs(job_name, namespace_name, created_at DESC)
    include (uuid, created_at, updated_at, nominal_start_time, nominal_end_time, current_run_state, started_at, ended_at, namespace_name, job_name, location)
10:12:26.162 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.162 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "32 - index runs created at"
10:12:26.164 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.167 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V33__index_lineage_events_run_id.sql ...
10:12:26.167 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE lineage_events
    ADD run_uuid uuid
10:12:26.167 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: CREATE INDEX lineage_events_run_id_index
    on lineage_events(run_uuid)
10:12:26.167 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: CREATE INDEX lineage_events_job_name_index
    on lineage_events(job_name, job_namespace)
10:12:26.168 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 12: CREATE OR REPLACE FUNCTION write_run_uuid()
RETURNS trigger
LANGUAGE plpgsql AS
$func$
BEGIN
    NEW.run_uuid := NEW.run_id::uuid;
    RETURN NEW;
END
$func$
10:12:26.168 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 22: CREATE TRIGGER lineage_events_run_uuid
    BEFORE INSERT ON lineage_events
    FOR EACH ROW
    WHEN (NEW.run_uuid IS NULL AND NEW.run_id IS NOT NULL)
EXECUTE PROCEDURE write_run_uuid()
10:12:26.168 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 28: UPDATE lineage_events SET run_uuid=run_id::uuid
10:12:26.168 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "33 - index lineage events run id" ...
10:12:26.169 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "33 - index lineage events run id"
10:12:26.170 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE lineage_events
    ADD run_uuid uuid
10:12:26.170 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.170 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX lineage_events_run_id_index
    on lineage_events(run_uuid)
10:12:26.171 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.171 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX lineage_events_job_name_index
    on lineage_events(job_name, job_namespace)
10:12:26.172 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.172 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE FUNCTION write_run_uuid()
RETURNS trigger
LANGUAGE plpgsql AS
$func$
BEGIN
    NEW.run_uuid := NEW.run_id::uuid;
    RETURN NEW;
END
$func$
10:12:26.173 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.173 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TRIGGER lineage_events_run_uuid
    BEFORE INSERT ON lineage_events
    FOR EACH ROW
    WHEN (NEW.run_uuid IS NULL AND NEW.run_id IS NOT NULL)
EXECUTE PROCEDURE write_run_uuid()
10:12:26.173 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.173 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE lineage_events SET run_uuid=run_id::uuid
10:12:26.174 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.174 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "33 - index lineage events run id"
10:12:26.176 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.179 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V34__drop_not_null_constraint_on_field_type.sql ...
10:12:26.179 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields ALTER COLUMN type DROP NOT NULL
10:12:26.179 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "34 - drop not null constraint on field type" ...
10:12:26.181 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "34 - drop not null constraint on field type"
10:12:26.182 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields ALTER COLUMN type DROP NOT NULL
10:12:26.182 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.182 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "34 - drop not null constraint on field type"
10:12:26.184 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.187 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V35__drop_io_mapping_tables.sql ...
10:12:26.187 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

DROP TABLE job_versions_io_mapping_inputs
10:12:26.187 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: DROP TABLE job_versions_io_mapping_outputs
10:12:26.187 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "35 - drop io mapping tables" ...
10:12:26.189 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "35 - drop io mapping tables"
10:12:26.190 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

DROP TABLE job_versions_io_mapping_inputs
10:12:26.190 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.190 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP TABLE job_versions_io_mapping_outputs
10:12:26.191 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.191 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "35 - drop io mapping tables"
10:12:26.193 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.196 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V36__drop_run_id_column_in_lineage_events.sql ...
10:12:26.197 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

DROP TRIGGER lineage_events_run_uuid ON lineage_events
10:12:26.197 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: DROP FUNCTION write_run_uuid
10:12:26.197 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE lineage_events DROP COLUMN run_id
10:12:26.197 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "36 - drop run id column in lineage events" ...
10:12:26.198 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "36 - drop run id column in lineage events"
10:12:26.199 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

DROP TRIGGER lineage_events_run_uuid ON lineage_events
10:12:26.200 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.200 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP FUNCTION write_run_uuid
10:12:26.200 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.200 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE lineage_events DROP COLUMN run_id
10:12:26.201 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.201 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "36 - drop run id column in lineage events"
10:12:26.203 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.206 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V37__alter_dataset_fields_to_change_type.sql ...
10:12:26.206 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields ALTER COLUMN type TYPE TEXT
10:12:26.206 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "37 - alter dataset fields to change type" ...
10:12:26.208 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "37 - alter dataset fields to change type"
10:12:26.208 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE dataset_fields ALTER COLUMN type TYPE TEXT
10:12:26.209 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.209 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "37 - alter dataset fields to change type"
10:12:26.212 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.215 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V38__alter_namespaces_to_resize_name.sql ...
10:12:26.215 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE namespaces ALTER COLUMN name TYPE VARCHAR(255)
10:12:26.215 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "38 - alter namespaces to resize name" ...
10:12:26.217 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "38 - alter namespaces to resize name"
10:12:26.217 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE namespaces ALTER COLUMN name TYPE VARCHAR(255)
10:12:26.218 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.218 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "38 - alter namespaces to resize name"
10:12:26.220 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.223 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V39__alter_sources_to_resize_name.sql ...
10:12:26.224 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE sources ALTER COLUMN name TYPE VARCHAR(255)
10:12:26.224 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "39 - alter sources to resize name" ...
10:12:26.225 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "39 - alter sources to resize name"
10:12:26.226 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE sources ALTER COLUMN name TYPE VARCHAR(255)
10:12:26.227 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.227 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "39 - alter sources to resize name"
10:12:26.229 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V40__alter_tables_resize_namespace_and_connection_url.sql ...
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE dataset_versions ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: ALTER TABLE dataset_versions ALTER COLUMN dataset_name TYPE VARCHAR
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: ALTER TABLE datasets ALTER COLUMN name TYPE VARCHAR
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE datasets ALTER COLUMN physical_name TYPE VARCHAR
10:12:26.232 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE datasets ALTER COLUMN source_name TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: ALTER TABLE namespaces ALTER COLUMN name TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: ALTER TABLE runs ALTER COLUMN external_id TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: ALTER TABLE sources ALTER COLUMN name TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: ALTER TABLE sources ALTER COLUMN connection_url TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: ALTER TABLE tags ALTER COLUMN name TYPE VARCHAR
10:12:26.233 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "40 - alter tables resize namespace and connection url" ...
10:12:26.234 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "40 - alter tables resize namespace and connection url"
10:12:26.235 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_versions ALTER COLUMN namespace_name TYPE VARCHAR
10:12:26.236 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.236 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_versions ALTER COLUMN dataset_name TYPE VARCHAR
10:12:26.237 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.237 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ALTER COLUMN name TYPE VARCHAR
10:12:26.238 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.238 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ALTER COLUMN physical_name TYPE VARCHAR
10:12:26.238 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.238 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ALTER COLUMN source_name TYPE VARCHAR
10:12:26.239 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.239 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE namespaces ALTER COLUMN name TYPE VARCHAR
10:12:26.239 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.239 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ALTER COLUMN external_id TYPE VARCHAR
10:12:26.240 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.240 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE sources ALTER COLUMN name TYPE VARCHAR
10:12:26.241 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.241 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE sources ALTER COLUMN connection_url TYPE VARCHAR
10:12:26.241 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.241 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE tags ALTER COLUMN name TYPE VARCHAR
10:12:26.242 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.242 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "40 - alter tables resize namespace and connection url"
10:12:26.244 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.247 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V41__add_operation_to_dataset_versions.sql ...
10:12:26.247 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: alter table dataset_versions add column lifecycle_state VARCHAR(63)
10:12:26.247 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: alter table datasets add column is_deleted BOOLEAN DEFAULT FALSE
10:12:26.248 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "41 - add operation to dataset versions" ...
10:12:26.249 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "41 - add operation to dataset versions"
10:12:26.250 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table dataset_versions add column lifecycle_state VARCHAR(63)
10:12:26.250 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.250 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: alter table datasets add column is_deleted BOOLEAN DEFAULT FALSE
10:12:26.251 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.251 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "41 - add operation to dataset versions"
10:12:26.253 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.256 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V42__add_job_symlink_target.sql ...
10:12:26.256 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE jobs ADD COLUMN symlink_target_uuid uuid REFERENCES jobs (uuid)
10:12:26.256 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: CREATE INDEX jobs_symlinks ON jobs (symlink_target_uuid)
    INCLUDE (uuid, namespace_name, name)
    WHERE symlink_target_uuid IS NOT NULL
10:12:26.256 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "42 - add job symlink target" ...
10:12:26.258 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "42 - add job symlink target"
10:12:26.259 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD COLUMN symlink_target_uuid uuid REFERENCES jobs (uuid)
10:12:26.259 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.259 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX jobs_symlinks ON jobs (symlink_target_uuid)
    INCLUDE (uuid, namespace_name, name)
    WHERE symlink_target_uuid IS NOT NULL
10:12:26.260 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.260 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "42 - add job symlink target"
10:12:26.262 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.265 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V43__alter_jobs_add_job_parent_uuid.sql ...
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE jobs ADD COLUMN IF NOT EXISTS parent_job_uuid uuid CONSTRAINT jobs_parent_fk_jobs REFERENCES jobs (uuid)
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: ALTER TABLE runs ADD COLUMN IF NOT EXISTS parent_run_uuid uuid CONSTRAINT runs_parent_fk_runs REFERENCES runs (uuid)
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: DROP INDEX IF EXISTS jobs_name_index
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE jobs DROP CONSTRAINT jobs_namespace_uuid_name_key
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: DROP INDEX IF EXISTS jobs_namespace_uuid_name_key
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: CREATE UNIQUE INDEX IF NOT EXISTS jobs_name_parent ON jobs (name, namespace_name, parent_job_uuid)
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: CREATE UNIQUE INDEX IF NOT EXISTS jobs_namespace_uuid_name_parent ON jobs (name, namespace_uuid, parent_job_uuid)
10:12:26.266 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: CREATE UNIQUE INDEX IF NOT EXISTS jobs_namespace_uuid_name_null_parent ON jobs (name, namespace_uuid) WHERE parent_job_uuid IS NULL
10:12:26.267 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: ALTER TABLE jobs ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE USING INDEX jobs_namespace_uuid_name_parent
10:12:26.267 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 13: CREATE OR REPLACE VIEW jobs_view
AS
    with recursive
     job_fqn AS (
        SELECT uuid, name, namespace_name, NULL::text AS parent_job_name, parent_job_uuid
        FROM jobs
        UNION
        SELECT j1.uuid,
               CASE WHEN j2.name IS NOT NULL THEN j2.name || '.' || j1.name ELSE j1.name END AS name,
               CASE WHEN j2.namespace_name IS NOT NULL THEN j2.namespace_name ELSE j1.namespace_name END AS namespace_name,
               j2.name AS parent_job_name,
               j2.parent_job_uuid
        FROM jobs j1
        INNER JOIN job_fqn j2 ON j2.uuid=j1.parent_job_uuid
    )
    SELECT f.uuid,
           f.name,
           f.namespace_name,
           j.name AS simple_name,
           j.parent_job_uuid,
           f.parent_job_name,
           j.type,
           j.created_at,
           j.updated_at,
           j.namespace_uuid,
           j.description,
           j.current_version_uuid,
           j.current_job_context_uuid,
           j.current_location,
           j.current_inputs,
           j.symlink_target_uuid
           FROM job_fqn f, jobs j
           WHERE j.uuid=f.uuid
           AND f.parent_job_uuid IS NULL
10:12:26.267 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "43 - alter jobs add job parent uuid" ...
10:12:26.268 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "43 - alter jobs add job parent uuid"
10:12:26.269 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD COLUMN IF NOT EXISTS parent_job_uuid uuid CONSTRAINT jobs_parent_fk_jobs REFERENCES jobs (uuid)
10:12:26.270 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.270 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD COLUMN IF NOT EXISTS parent_run_uuid uuid CONSTRAINT runs_parent_fk_runs REFERENCES runs (uuid)
10:12:26.271 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.271 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS jobs_name_index
10:12:26.272 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.272 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs DROP CONSTRAINT jobs_namespace_uuid_name_key
10:12:26.272 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.272 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS jobs_namespace_uuid_name_key
10:12:26.275 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: index "jobs_namespace_uuid_name_key" does not exist, skipping
10:12:26.275 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.275 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE UNIQUE INDEX IF NOT EXISTS jobs_name_parent ON jobs (name, namespace_name, parent_job_uuid)
10:12:26.276 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.276 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE UNIQUE INDEX IF NOT EXISTS jobs_namespace_uuid_name_parent ON jobs (name, namespace_uuid, parent_job_uuid)
10:12:26.277 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.277 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE UNIQUE INDEX IF NOT EXISTS jobs_namespace_uuid_name_null_parent ON jobs (name, namespace_uuid) WHERE parent_job_uuid IS NULL
10:12:26.278 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.278 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE USING INDEX jobs_namespace_uuid_name_parent
10:12:26.278 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: ALTER TABLE / ADD CONSTRAINT USING INDEX will rename index "jobs_namespace_uuid_name_parent" to "unique_jobs_namespace_uuid_name_parent"
10:12:26.278 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.278 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE VIEW jobs_view
AS
    with recursive
     job_fqn AS (
        SELECT uuid, name, namespace_name, NULL::text AS parent_job_name, parent_job_uuid
        FROM jobs
        UNION
        SELECT j1.uuid,
               CASE WHEN j2.name IS NOT NULL THEN j2.name || '.' || j1.name ELSE j1.name END AS name,
               CASE WHEN j2.namespace_name IS NOT NULL THEN j2.namespace_name ELSE j1.namespace_name END AS namespace_name,
               j2.name AS parent_job_name,
               j2.parent_job_uuid
        FROM jobs j1
        INNER JOIN job_fqn j2 ON j2.uuid=j1.parent_job_uuid
    )
    SELECT f.uuid,
           f.name,
           f.namespace_name,
           j.name AS simple_name,
           j.parent_job_uuid,
           f.parent_job_name,
           j.type,
           j.created_at,
           j.updated_at,
           j.namespace_uuid,
           j.description,
           j.current_version_uuid,
           j.current_job_context_uuid,
           j.current_location,
           j.current_inputs,
           j.symlink_target_uuid
           FROM job_fqn f, jobs j
           WHERE j.uuid=f.uuid
           AND f.parent_job_uuid IS NULL
10:12:26.280 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.280 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "43 - alter jobs add job parent uuid"
10:12:26.282 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.286 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V44__runs_job_versions_add_job_uuid.sql ...
10:12:26.286 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE runs ADD COLUMN IF NOT EXISTS job_uuid uuid
10:12:26.286 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: CREATE INDEX IF NOT EXISTS runs_job_uuid ON runs(job_uuid, transitioned_at DESC)
10:12:26.287 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: -- Trigger updates for records being written by the still-running version of the application
CREATE OR REPLACE FUNCTION write_run_job_uuid()
    RETURNS trigger
    LANGUAGE plpgsql AS
$func$
BEGIN
    NEW.job_uuid := (SELECT uuid FROM jobs j WHERE j.name=OLD.job_name AND j.namespace_name=OLD.namespace_name);
    RETURN NEW;
END
$func$
10:12:26.287 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 16: DROP TRIGGER IF EXISTS runs_insert_job_uuid ON runs
10:12:26.287 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 18: CREATE TRIGGER runs_insert_job_uuid
    BEFORE INSERT ON runs
    FOR EACH ROW
    WHEN (NEW.job_uuid IS NULL AND NEW.job_name IS NOT NULL AND NEW.namespace_name IS NOT NULL)
EXECUTE PROCEDURE write_run_job_uuid()
10:12:26.287 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 24: CREATE OR REPLACE VIEW runs_view
AS
SELECT r.uuid,
       r.created_at,
       r.updated_at,
       r.parent_run_uuid,
       job_version_uuid,
       run_args_uuid,
       nominal_start_time,
       nominal_end_time,
       current_run_state,
       start_run_state_uuid,
       end_run_state_uuid,
       external_id,
       location,
       transitioned_at,
       started_at,
       ended_at,
       job_context_uuid,
       job_uuid,
       j.name AS job_name,
       j.namespace_name
FROM runs r
INNER JOIN jobs_view j ON j.uuid = r.job_uuid
10:12:26.287 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "44 - runs job versions add job uuid" ...
10:12:26.288 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "44 - runs job versions add job uuid"
10:12:26.289 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs ADD COLUMN IF NOT EXISTS job_uuid uuid
10:12:26.290 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.290 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX IF NOT EXISTS runs_job_uuid ON runs(job_uuid, transitioned_at DESC)
10:12:26.290 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.291 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: -- Trigger updates for records being written by the still-running version of the application
CREATE OR REPLACE FUNCTION write_run_job_uuid()
    RETURNS trigger
    LANGUAGE plpgsql AS
$func$
BEGIN
    NEW.job_uuid := (SELECT uuid FROM jobs j WHERE j.name=OLD.job_name AND j.namespace_name=OLD.namespace_name);
    RETURN NEW;
END
$func$
10:12:26.291 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.291 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP TRIGGER IF EXISTS runs_insert_job_uuid ON runs
10:12:26.292 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: trigger "runs_insert_job_uuid" for relation "runs" does not exist, skipping
10:12:26.292 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.292 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TRIGGER runs_insert_job_uuid
    BEFORE INSERT ON runs
    FOR EACH ROW
    WHEN (NEW.job_uuid IS NULL AND NEW.job_name IS NOT NULL AND NEW.namespace_name IS NOT NULL)
EXECUTE PROCEDURE write_run_job_uuid()
10:12:26.292 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.292 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE VIEW runs_view
AS
SELECT r.uuid,
       r.created_at,
       r.updated_at,
       r.parent_run_uuid,
       job_version_uuid,
       run_args_uuid,
       nominal_start_time,
       nominal_end_time,
       current_run_state,
       start_run_state_uuid,
       end_run_state_uuid,
       external_id,
       location,
       transitioned_at,
       started_at,
       ended_at,
       job_context_uuid,
       job_uuid,
       j.name AS job_name,
       j.namespace_name
FROM runs r
INNER JOIN jobs_view j ON j.uuid = r.job_uuid
10:12:26.293 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.294 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "44 - runs job versions add job uuid"
10:12:26.296 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.299 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "44.1 - UpdateRunsWithJobUUID" [non-transactional] ...
10:12:26.300 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "44.1 - UpdateRunsWithJobUUID" [non-transactional]
10:12:26.302 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "44.1 - UpdateRunsWithJobUUID" [non-transactional]
10:12:26.305 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.308 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "44.2 - BackfillAirflowParentRuns" [non-transactional] ...
10:12:26.309 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "44.2 - BackfillAirflowParentRuns" [non-transactional]
10:12:26.404 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "44.2 - BackfillAirflowParentRuns" [non-transactional]
10:12:26.407 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.410 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "44.3 - BackfillJobsWithParents" [non-transactional] ...
10:12:26.411 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "44.3 - BackfillJobsWithParents" [non-transactional]
10:12:26.422 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "44.3 - BackfillJobsWithParents" [non-transactional]
10:12:26.425 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.427 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V45__update_jobs_view_rule.sql ...
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE jobs
    DROP CONSTRAINT IF EXISTS jobs_namespace_uuid_name_key
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: DROP INDEX IF EXISTS jobs_namespace_uuid_name_key
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: ALTER TABLE jobs DROP CONSTRAINT IF EXISTS jobs_namespace_uuid_name_null_parent
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: DROP INDEX IF EXISTS jobs_namespace_uuid_name_null_parent
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: DROP INDEX IF EXISTS jobs_namespace_uuid_name_parent
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: ALTER TABLE jobs
    DROP CONSTRAINT IF EXISTS unique_jobs_namespace_uuid_name_parent
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: DROP INDEX IF EXISTS unique_jobs_namespace_uuid_name_parent
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 13: ALTER TABLE jobs
    ADD COLUMN parent_job_uuid_string char(36) DEFAULT ''
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 15: UPDATE jobs
SET parent_job_uuid_string=parent_job_uuid::text
WHERE parent_job_uuid IS NOT NULL
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 19: CREATE UNIQUE INDEX unique_jobs_namespace_uuid_name_parent ON jobs (name, namespace_uuid, parent_job_uuid_string)
10:12:26.428 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 20: ALTER TABLE jobs
    ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE USING INDEX unique_jobs_namespace_uuid_name_parent
10:12:26.429 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 23: CREATE TABlE jobs_fqn
(
    uuid            uuid    NOT NULL PRIMARY KEY,
    namespace_uuid  uuid    NOT NULL,
    namespace_name  varchar NOT NULL,
    parent_job_name varchar,
    aliases         varchar[],
    job_fqn         varchar NOT NULL
)
10:12:26.429 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 33: WITH RECURSIVE
    jobs_symlink AS (SELECT uuid, uuid AS link_target_uuid, symlink_target_uuid
                     FROM jobs j
                     WHERE symlink_target_uuid IS NULL
                     UNION
                     SELECT j.uuid, jn.link_target_uuid, j.symlink_target_uuid
                     FROM jobs j
                              INNER JOIN jobs_symlink jn ON j.symlink_target_uuid = jn.uuid),
    fqn AS (SELECT j.uuid,
                   j.name AS name,
                   j.namespace_uuid,
                   j.namespace_name,
                   NULL::text AS parent_job_name,
                   j.parent_job_uuid
            FROM jobs j
            WHERE parent_job_uuid IS NULL
            UNION
            SELECT j1.uuid,
                   f.name || '.' || j1.name AS name,
                   f.namespace_uuid         AS namespace_uuid,
                   f.namespace_name         AS namespace_name,
                   f.name                   AS parent_job_name,
                   j1.parent_job_uuid
            FROM jobs j1
                     INNER JOIN fqn f ON j1.parent_job_uuid = f.uuid),
    aliases AS (SELECT s.link_target_uuid,
                       ARRAY_AGG(DISTINCT f.name) FILTER (WHERE f.name IS NOT NULL) AS aliases
                FROM jobs_symlink s
                INNER JOIN fqn f ON f.uuid = s.uuid
                WHERE s.link_target_uuid != s.uuid
                GROUP BY s.link_target_uuid)
INSERT
INTO jobs_fqn
SELECT j.uuid,
       jf.namespace_uuid,
       jf.namespace_name,
       jf.parent_job_name,
       a.aliases,
       jf.name AS job_fqn
FROM jobs j
         LEFT JOIN jobs_symlink js ON j.uuid = js.uuid
         LEFT JOIN aliases a ON a.link_target_uuid = js.link_target_uuid
         INNER JOIN fqn jf ON jf.uuid = COALESCE(js.link_target_uuid, j.uuid)
ON CONFLICT (uuid) DO UPDATE
    SET job_fqn=EXCLUDED.job_fqn,
        aliases = jobs_fqn.aliases || EXCLUDED.aliases
10:12:26.429 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "45 - update jobs view rule" ...
10:12:26.431 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "45 - update jobs view rule"
10:12:26.431 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
    DROP CONSTRAINT IF EXISTS jobs_namespace_uuid_name_key
10:12:26.432 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: constraint "jobs_namespace_uuid_name_key" of relation "jobs" does not exist, skipping
10:12:26.432 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.432 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS jobs_namespace_uuid_name_key
10:12:26.433 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: index "jobs_namespace_uuid_name_key" does not exist, skipping
10:12:26.433 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.433 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs DROP CONSTRAINT IF EXISTS jobs_namespace_uuid_name_null_parent
10:12:26.433 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: constraint "jobs_namespace_uuid_name_null_parent" of relation "jobs" does not exist, skipping
10:12:26.433 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.433 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS jobs_namespace_uuid_name_null_parent
10:12:26.434 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.434 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS jobs_namespace_uuid_name_parent
10:12:26.434 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: index "jobs_namespace_uuid_name_parent" does not exist, skipping
10:12:26.434 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.434 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
    DROP CONSTRAINT IF EXISTS unique_jobs_namespace_uuid_name_parent
10:12:26.435 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.435 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP INDEX IF EXISTS unique_jobs_namespace_uuid_name_parent
10:12:26.436 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: index "unique_jobs_namespace_uuid_name_parent" does not exist, skipping
10:12:26.436 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.436 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
    ADD COLUMN parent_job_uuid_string char(36) DEFAULT ''
10:12:26.436 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.436 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: UPDATE jobs
SET parent_job_uuid_string=parent_job_uuid::text
WHERE parent_job_uuid IS NOT NULL
10:12:26.437 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.437 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE UNIQUE INDEX unique_jobs_namespace_uuid_name_parent ON jobs (name, namespace_uuid, parent_job_uuid_string)
10:12:26.438 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.438 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
    ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE USING INDEX unique_jobs_namespace_uuid_name_parent
10:12:26.439 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.439 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABlE jobs_fqn
(
    uuid            uuid    NOT NULL PRIMARY KEY,
    namespace_uuid  uuid    NOT NULL,
    namespace_name  varchar NOT NULL,
    parent_job_name varchar,
    aliases         varchar[],
    job_fqn         varchar NOT NULL
)
10:12:26.440 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.440 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: WITH RECURSIVE
    jobs_symlink AS (SELECT uuid, uuid AS link_target_uuid, symlink_target_uuid
                     FROM jobs j
                     WHERE symlink_target_uuid IS NULL
                     UNION
                     SELECT j.uuid, jn.link_target_uuid, j.symlink_target_uuid
                     FROM jobs j
                              INNER JOIN jobs_symlink jn ON j.symlink_target_uuid = jn.uuid),
    fqn AS (SELECT j.uuid,
                   j.name AS name,
                   j.namespace_uuid,
                   j.namespace_name,
                   NULL::text AS parent_job_name,
                   j.parent_job_uuid
            FROM jobs j
            WHERE parent_job_uuid IS NULL
            UNION
            SELECT j1.uuid,
                   f.name || '.' || j1.name AS name,
                   f.namespace_uuid         AS namespace_uuid,
                   f.namespace_name         AS namespace_name,
                   f.name                   AS parent_job_name,
                   j1.parent_job_uuid
            FROM jobs j1
                     INNER JOIN fqn f ON j1.parent_job_uuid = f.uuid),
    aliases AS (SELECT s.link_target_uuid,
                       ARRAY_AGG(DISTINCT f.name) FILTER (WHERE f.name IS NOT NULL) AS aliases
                FROM jobs_symlink s
                INNER JOIN fqn f ON f.uuid = s.uuid
                WHERE s.link_target_uuid != s.uuid
                GROUP BY s.link_target_uuid)
INSERT
INTO jobs_fqn
SELECT j.uuid,
       jf.namespace_uuid,
       jf.namespace_name,
       jf.parent_job_name,
       a.aliases,
       jf.name AS job_fqn
FROM jobs j
         LEFT JOIN jobs_symlink js ON j.uuid = js.uuid
         LEFT JOIN aliases a ON a.link_target_uuid = js.link_target_uuid
         INNER JOIN fqn jf ON jf.uuid = COALESCE(js.link_target_uuid, j.uuid)
ON CONFLICT (uuid) DO UPDATE
    SET job_fqn=EXCLUDED.job_fqn,
        aliases = jobs_fqn.aliases || EXCLUDED.aliases
10:12:26.442 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.442 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "45 - update jobs view rule"
10:12:26.444 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.448 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V46__add_hidden_column_to_jobs_and_datasets.sql ...
10:12:26.449 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE datasets ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.449 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: ALTER TABLE jobs ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.449 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "46 - add hidden column to jobs and datasets" ...
10:12:26.450 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "46 - add hidden column to jobs and datasets"
10:12:26.451 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.452 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.452 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.453 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.453 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "46 - add hidden column to jobs and datasets"
10:12:26.456 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.460 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V47__add_lineage_event_indexes.sql ...
10:12:26.460 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE INDEX CONCURRENTLY lineage_events_event_time
    on lineage_events(event_time DESC) [non-transactional]
10:12:26.460 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "47 - add lineage event indexes" [non-transactional] ...
10:12:26.462 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "47 - add lineage event indexes" [non-transactional]
10:12:26.463 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX CONCURRENTLY lineage_events_event_time
    on lineage_events(event_time DESC)
10:12:26.464 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.464 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "47 - add lineage event indexes" [non-transactional]
10:12:26.466 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.469 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V48__dataset_symlinks.sql ...
10:12:26.469 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE dataset_symlinks (
  dataset_uuid      UUID,
  name              VARCHAR NOT NULL,
  namespace_uuid    UUID REFERENCES namespaces(uuid),
  type              VARCHAR(64),
  is_primary        BOOLEAN DEFAULT FALSE,
  created_at        TIMESTAMP NOT NULL,
  updated_at        TIMESTAMP NOT NULL,
  UNIQUE (namespace_uuid, name)
)
10:12:26.469 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX dataset_symlinks_dataset_uuid on dataset_symlinks (dataset_uuid)
10:12:26.469 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 16: INSERT INTO dataset_symlinks (dataset_uuid, name, namespace_uuid, is_primary, created_at, updated_at)
SELECT d.uuid, d.name, d.namespace_uuid, TRUE, d.created_at, d.updated_at FROM datasets d
10:12:26.470 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 19: DROP TYPE IF EXISTS DATASET_NAME
10:12:26.470 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 20: CREATE TYPE DATASET_NAME AS (
    namespace       VARCHAR(255),
    name            VARCHAR(255)
)
10:12:26.470 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "48 - dataset symlinks" ...
10:12:26.471 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "48 - dataset symlinks"
10:12:26.472 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE dataset_symlinks (
  dataset_uuid      UUID,
  name              VARCHAR NOT NULL,
  namespace_uuid    UUID REFERENCES namespaces(uuid),
  type              VARCHAR(64),
  is_primary        BOOLEAN DEFAULT FALSE,
  created_at        TIMESTAMP NOT NULL,
  updated_at        TIMESTAMP NOT NULL,
  UNIQUE (namespace_uuid, name)
)
10:12:26.475 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.475 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX dataset_symlinks_dataset_uuid on dataset_symlinks (dataset_uuid)
10:12:26.476 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.476 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO dataset_symlinks (dataset_uuid, name, namespace_uuid, is_primary, created_at, updated_at)
SELECT d.uuid, d.name, d.namespace_uuid, TRUE, d.created_at, d.updated_at FROM datasets d
10:12:26.476 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.476 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP TYPE IF EXISTS DATASET_NAME
10:12:26.477 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: type "dataset_name" does not exist, skipping
10:12:26.477 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.477 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE DATASET_NAME AS (
    namespace       VARCHAR(255),
    name            VARCHAR(255)
)
10:12:26.478 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.478 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "48 - dataset symlinks"
10:12:26.480 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.483 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V49__column_lineage.sql ...
10:12:26.483 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE column_lineage (
  output_dataset_version_uuid   uuid REFERENCES dataset_versions(uuid), -- allows join to run_id
  output_dataset_field_uuid     uuid REFERENCES dataset_fields(uuid),
  input_dataset_version_uuid    uuid REFERENCES dataset_versions(uuid), -- speed up graph column lineage graph traversal
  input_dataset_field_uuid      uuid REFERENCES dataset_fields(uuid),
  transformation_description    TEXT,
  transformation_type           VARCHAR(255),
  created_at                    TIMESTAMP NOT NULL,
  updated_at                    TIMESTAMP NOT NULL,
  UNIQUE (output_dataset_version_uuid, output_dataset_field_uuid, input_dataset_version_uuid, input_dataset_field_uuid)
)
10:12:26.484 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "49 - column lineage" ...
10:12:26.485 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "49 - column lineage"
10:12:26.486 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

CREATE TABLE column_lineage (
  output_dataset_version_uuid   uuid REFERENCES dataset_versions(uuid), -- allows join to run_id
  output_dataset_field_uuid     uuid REFERENCES dataset_fields(uuid),
  input_dataset_version_uuid    uuid REFERENCES dataset_versions(uuid), -- speed up graph column lineage graph traversal
  input_dataset_field_uuid      uuid REFERENCES dataset_fields(uuid),
  transformation_description    TEXT,
  transformation_type           VARCHAR(255),
  created_at                    TIMESTAMP NOT NULL,
  updated_at                    TIMESTAMP NOT NULL,
  UNIQUE (output_dataset_version_uuid, output_dataset_field_uuid, input_dataset_version_uuid, input_dataset_field_uuid)
)
10:12:26.488 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.488 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "49 - column lineage"
10:12:26.490 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.493 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V50__index_dataset_fields.sql ...
10:12:26.493 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create index dataset_fields_dataset_uuid
    on dataset_fields (dataset_uuid)
10:12:26.493 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "50 - index dataset fields" ...
10:12:26.495 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "50 - index dataset fields"
10:12:26.496 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create index dataset_fields_dataset_uuid
    on dataset_fields (dataset_uuid)
10:12:26.496 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.496 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "50 - index dataset fields"
10:12:26.499 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.502 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V51__job_indices_for_lineage.sql ...
10:12:26.502 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

create index jobs_current_version_uuid_index
    on jobs (current_version_uuid) WHERE current_version_uuid IS NOT NULL
10:12:26.502 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 6: create index jobs_symlink_target_uuid_index
    on jobs (symlink_target_uuid) WHERE symlink_target_uuid IS NOT NULL
10:12:26.502 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 9: create index jobs_current_job_context_uuid_index
    on jobs (current_job_context_uuid)
10:12:26.502 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "51 - job indices for lineage" ...
10:12:26.504 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "51 - job indices for lineage"
10:12:26.504 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

create index jobs_current_version_uuid_index
    on jobs (current_version_uuid) WHERE current_version_uuid IS NOT NULL
10:12:26.505 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.505 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index jobs_symlink_target_uuid_index
    on jobs (symlink_target_uuid) WHERE symlink_target_uuid IS NOT NULL
10:12:26.506 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.506 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index jobs_current_job_context_uuid_index
    on jobs (current_job_context_uuid)
10:12:26.507 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.507 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "51 - job indices for lineage"
10:12:26.509 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.512 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V52__alter_dataset_symlinks.sql ...
10:12:26.513 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

DO
$$
DECLARE
    datasets_view_exists boolean;
    datasets_view_definition text;
BEGIN
    SELECT EXISTS (
        SELECT * FROM information_schema.views
        WHERE table_schema='public' AND table_name='datasets_view'
    ) INTO datasets_view_exists;

    IF datasets_view_exists THEN
        -- Altering is not allowed when the column is being used from views. So here,
        -- we temporarily drop the view before altering and recreate it.
        SELECT view_definition FROM information_schema.views
        WHERE table_schema='public' AND table_name='datasets_view'
        INTO datasets_view_definition;

        DROP VIEW datasets_view;
        ALTER TABLE dataset_symlinks ALTER COLUMN name TYPE VARCHAR;
        EXECUTE format('CREATE VIEW datasets_view AS %s', datasets_view_definition);
    ELSE
        ALTER TABLE dataset_symlinks ALTER COLUMN name TYPE VARCHAR;
    END IF;
END
$$ LANGUAGE plpgsql
10:12:26.513 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "52 - alter dataset symlinks" ...
10:12:26.515 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "52 - alter dataset symlinks"
10:12:26.516 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

DO
$$
DECLARE
    datasets_view_exists boolean;
    datasets_view_definition text;
BEGIN
    SELECT EXISTS (
        SELECT * FROM information_schema.views
        WHERE table_schema='public' AND table_name='datasets_view'
    ) INTO datasets_view_exists;

    IF datasets_view_exists THEN
        -- Altering is not allowed when the column is being used from views. So here,
        -- we temporarily drop the view before altering and recreate it.
        SELECT view_definition FROM information_schema.views
        WHERE table_schema='public' AND table_name='datasets_view'
        INTO datasets_view_definition;

        DROP VIEW datasets_view;
        ALTER TABLE dataset_symlinks ALTER COLUMN name TYPE VARCHAR;
        EXECUTE format('CREATE VIEW datasets_view AS %s', datasets_view_definition);
    ELSE
        ALTER TABLE dataset_symlinks ALTER COLUMN name TYPE VARCHAR;
    END IF;
END
$$ LANGUAGE plpgsql
10:12:26.518 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.518 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "52 - alter dataset symlinks"
10:12:26.520 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.523 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V53__add_hidden_namespace.sql ...
10:12:26.524 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE namespaces ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.524 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "53 - add hidden namespace" ...
10:12:26.525 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "53 - add hidden namespace"
10:12:26.526 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE namespaces ADD COLUMN is_hidden BOOLEAN DEFAULT FALSE
10:12:26.526 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.526 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "53 - add hidden namespace"
10:12:26.529 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.532 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V54__lineage_events_created_at_indexed.sql ...
10:12:26.533 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: -- new column will be created with 'null' filled for existing rows
ALTER TABLE lineage_events ADD created_at TIMESTAMP WITH TIME ZONE
10:12:26.533 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: create index lineage_events_created_at_index on lineage_events (created_at desc NULLS LAST)
10:12:26.533 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: -- The new default set to UTC now() will only apply in subsequent INSERT or UPDATE commands; it does not cause rows already in the table to change.
ALTER TABLE lineage_events ALTER COLUMN created_at SET DEFAULT (now() AT TIME ZONE 'UTC')::timestamptz
10:12:26.533 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "54 - lineage events created at indexed" ...
10:12:26.534 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "54 - lineage events created at indexed"
10:12:26.535 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: -- new column will be created with 'null' filled for existing rows
ALTER TABLE lineage_events ADD created_at TIMESTAMP WITH TIME ZONE
10:12:26.536 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.536 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index lineage_events_created_at_index on lineage_events (created_at desc NULLS LAST)
10:12:26.537 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.537 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: -- The new default set to UTC now() will only apply in subsequent INSERT or UPDATE commands; it does not cause rows already in the table to change.
ALTER TABLE lineage_events ALTER COLUMN created_at SET DEFAULT (now() AT TIME ZONE 'UTC')::timestamptz
10:12:26.537 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.537 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "54 - lineage events created at indexed"
10:12:26.539 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.542 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V55.1__add_dataset_facets.sql ...
10:12:26.543 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE dataset_facets (
  created_at            TIMESTAMPTZ NOT NULL,
  dataset_uuid          UUID REFERENCES datasets(uuid),
  dataset_version_uuid  UUID REFERENCES dataset_versions(uuid),
  run_uuid              UUID REFERENCES runs(uuid),
  lineage_event_time    TIMESTAMPTZ NOT NULL,
  lineage_event_type    VARCHAR(64) NOT NULL,
  type                  VARCHAR(64) NOT NULL,
  name                  VARCHAR(255) NOT NULL,
  facet                 JSONB NOT NULL
)
10:12:26.543 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "55.1 - add dataset facets" ...
10:12:26.544 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "55.1 - add dataset facets"
10:12:26.545 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE dataset_facets (
  created_at            TIMESTAMPTZ NOT NULL,
  dataset_uuid          UUID REFERENCES datasets(uuid),
  dataset_version_uuid  UUID REFERENCES dataset_versions(uuid),
  run_uuid              UUID REFERENCES runs(uuid),
  lineage_event_time    TIMESTAMPTZ NOT NULL,
  lineage_event_type    VARCHAR(64) NOT NULL,
  type                  VARCHAR(64) NOT NULL,
  name                  VARCHAR(255) NOT NULL,
  facet                 JSONB NOT NULL
)
10:12:26.546 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.546 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "55.1 - add dataset facets"
10:12:26.548 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.552 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V55.2__add_job_facets.sql ...
10:12:26.552 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE job_facets (
  created_at         TIMESTAMPTZ NOT NULL,
  job_uuid           UUID REFERENCES jobs(uuid),
  run_uuid           UUID REFERENCES runs(uuid),
  lineage_event_time TIMESTAMPTZ NOT NULL,
  lineage_event_type VARCHAR(64) NOT NULL,
  name               VARCHAR(255) NOT NULL,
  facet              JSONB NOT NULL
)
10:12:26.552 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 11: CREATE INDEX job_facets_job_uuid_run_uuid_idx ON job_facets (job_uuid, run_uuid)
10:12:26.552 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "55.2 - add job facets" ...
10:12:26.554 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "55.2 - add job facets"
10:12:26.554 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE job_facets (
  created_at         TIMESTAMPTZ NOT NULL,
  job_uuid           UUID REFERENCES jobs(uuid),
  run_uuid           UUID REFERENCES runs(uuid),
  lineage_event_time TIMESTAMPTZ NOT NULL,
  lineage_event_type VARCHAR(64) NOT NULL,
  name               VARCHAR(255) NOT NULL,
  facet              JSONB NOT NULL
)
10:12:26.556 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.556 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX job_facets_job_uuid_run_uuid_idx ON job_facets (job_uuid, run_uuid)
10:12:26.556 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.556 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "55.2 - add job facets"
10:12:26.558 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.561 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V55.3__add_run_facets.sql ...
10:12:26.562 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE run_facets (
  created_at         TIMESTAMPTZ NOT NULL,
  run_uuid           UUID REFERENCES runs(uuid),
  lineage_event_time TIMESTAMPTZ NOT NULL,
  lineage_event_type VARCHAR(64) NOT NULL,
  name               VARCHAR(255) NOT NULL,
  facet              JSONB NOT NULL
)
10:12:26.562 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: CREATE INDEX run_facets_run_uuid_idx ON run_facets (run_uuid)
10:12:26.562 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "55.3 - add run facets" ...
10:12:26.563 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "55.3 - add run facets"
10:12:26.564 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE run_facets (
  created_at         TIMESTAMPTZ NOT NULL,
  run_uuid           UUID REFERENCES runs(uuid),
  lineage_event_time TIMESTAMPTZ NOT NULL,
  lineage_event_type VARCHAR(64) NOT NULL,
  name               VARCHAR(255) NOT NULL,
  facet              JSONB NOT NULL
)
10:12:26.565 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.565 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX run_facets_run_uuid_idx ON run_facets (run_uuid)
10:12:26.566 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.566 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "55.3 - add run facets"
10:12:26.568 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.570 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "56.1 - CreateFacetViews" [non-transactional] ...
10:12:26.572 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "56.1 - CreateFacetViews" [non-transactional]
10:12:26.597 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "56.1 - CreateFacetViews" [non-transactional]
10:12:26.599 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.602 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V57.1__add_migration_lock.sql ...
10:12:26.603 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE facet_migration_lock (
  created_at  TIMESTAMPTZ,
  run_uuid    UUID
)
10:12:26.603 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "57.1 - add migration lock" ...
10:12:26.605 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "57.1 - add migration lock"
10:12:26.606 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE facet_migration_lock (
  created_at  TIMESTAMPTZ,
  run_uuid    UUID
)
10:12:26.606 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.606 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "57.1 - add migration lock"
10:12:26.609 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.612 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "57.2 - BackFillFacets" [non-transactional] ...
10:12:26.613 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "57.2 - BackFillFacets" [non-transactional]
10:12:26.618 [Test worker] INFO marquez.db.migrations.V57_1__BackfillFacets - Vacuuming lineage_events table
10:12:26.630 [Test worker] INFO marquez.db.migrations.V57_1__BackfillFacets - Vacuuming lineage_events table finished
10:12:26.631 [Test worker] INFO marquez.db.migrations.V57_1__BackfillFacets - Estimating 0 events in lineage_events table
10:12:26.643 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "57.2 - BackFillFacets" [non-transactional]
10:12:26.645 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.648 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V58__job_fqn_name_index.sql ...
10:12:26.648 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE INDEX ON jobs_fqn (namespace_name, job_fqn)
10:12:26.648 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "58 - job fqn name index" ...
10:12:26.649 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "58 - job fqn name index"
10:12:26.650 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX ON jobs_fqn (namespace_name, job_fqn)
10:12:26.651 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.651 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "58 - job fqn name index"
10:12:26.653 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.656 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V59.1__column_lineage_add_indexes.sql ...
10:12:26.656 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: create index column_lineage_output_dataset_version_uuid_index
    on column_lineage (output_dataset_version_uuid)
10:12:26.656 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: create index column_lineage_output_dataset_field_uuid_index
    on column_lineage (output_dataset_field_uuid)
10:12:26.657 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: create index column_lineage_input_dataset_version_uuid_index
    on column_lineage (input_dataset_version_uuid)
10:12:26.657 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: create index column_lineage_input_dataset_field_uuid_index
    on column_lineage (input_dataset_field_uuid)
10:12:26.657 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "59.1 - column lineage add indexes" ...
10:12:26.658 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "59.1 - column lineage add indexes"
10:12:26.659 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index column_lineage_output_dataset_version_uuid_index
    on column_lineage (output_dataset_version_uuid)
10:12:26.659 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.659 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index column_lineage_output_dataset_field_uuid_index
    on column_lineage (output_dataset_field_uuid)
10:12:26.660 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.660 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index column_lineage_input_dataset_version_uuid_index
    on column_lineage (input_dataset_version_uuid)
10:12:26.661 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.661 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index column_lineage_input_dataset_field_uuid_index
    on column_lineage (input_dataset_field_uuid)
10:12:26.661 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.661 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "59.1 - column lineage add indexes"
10:12:26.664 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.666 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V59.2__facet_tables_indexes.sql ...
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: create index dataset_facets_dataset_uuid_index
    on dataset_facets (dataset_uuid)
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: create index dataset_facets_dataset_version_uuid_index
    on dataset_facets (dataset_version_uuid)
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: create index dataset_facets_run_uuid_index
    on dataset_facets (run_uuid)
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: create index job_facets_job_uuid_index
    on job_facets (job_uuid)
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 13: create index job_facets_run_uuid_index
    on job_facets (run_uuid)
10:12:26.667 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "59.2 - facet tables indexes" ...
10:12:26.668 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "59.2 - facet tables indexes"
10:12:26.669 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_facets_dataset_uuid_index
    on dataset_facets (dataset_uuid)
10:12:26.670 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.670 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_facets_dataset_version_uuid_index
    on dataset_facets (dataset_version_uuid)
10:12:26.670 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.670 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index dataset_facets_run_uuid_index
    on dataset_facets (run_uuid)
10:12:26.671 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.671 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_facets_job_uuid_index
    on job_facets (job_uuid)
10:12:26.671 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.671 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: create index job_facets_run_uuid_index
    on job_facets (run_uuid)
10:12:26.672 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.672 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "59.2 - facet tables indexes"
10:12:26.674 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.677 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V60__alter_job_versions_to_drop_job_context_uuid.sql ...
10:12:26.677 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ALTER COLUMN job_context_uuid DROP NOT NULL
10:12:26.677 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "60 - alter job versions to drop job context uuid" ...
10:12:26.679 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "60 - alter job versions to drop job context uuid"
10:12:26.679 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: /* SPDX-License-Identifier: Apache-2.0 */

ALTER TABLE job_versions ALTER COLUMN job_context_uuid DROP NOT NULL
10:12:26.680 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.680 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "60 - alter job versions to drop job context uuid"
10:12:26.682 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.685 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V61__unique_job_fqn_index.sql ...
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: WITH fqn AS (
  SELECT f.uuid,
         f.job_fqn AS name,
         f.namespace_name,
         j.name    AS simple_name,
         j.parent_job_uuid,
         f.parent_job_name::text,
         j.symlink_target_uuid
  FROM jobs_fqn f,
       jobs j
  WHERE j.uuid = f.uuid
)
UPDATE jobs SET symlink_target_uuid=q.target_uuid
FROM (
         SELECT j.uuid, j.namespace_name, j.name, j.simple_name, jv.uuid AS target_uuid, jv.simple_name
         FROM fqn j
         INNER JOIN fqn jv ON j.namespace_name=jv.namespace_name AND j.name=jv.name AND j.simple_name != jv.simple_name
         WHERE j.symlink_target_uuid IS NULL
         AND jv.symlink_target_uuid IS NULL
         AND j.parent_job_uuid IS NULL) q
WHERE jobs.uuid=q.uuid
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 23: WITH fqn AS (
  SELECT f.uuid,
         f.job_fqn AS name,
         f.namespace_name,
         j.name    AS simple_name,
         j.parent_job_uuid,
         f.parent_job_name::text,
         j.symlink_target_uuid,
         j.created_at
  FROM jobs_fqn f,
       jobs j
  WHERE j.uuid = f.uuid
)
UPDATE jobs SET name=(q.simple_name || '_' || q.row)
FROM (
  SELECT j.uuid, j.namespace_name, j.name, j.simple_name, jv.uuid AS target_uuid,
         row_number() over (PARTITION BY j.namespace_name, j.name ORDER BY j.created_at) AS row
  FROM fqn j
  INNER JOIN fqn jv ON j.namespace_name=jv.namespace_name AND j.name=jv.name AND j.symlink_target_uuid=jv.uuid
) q
WHERE jobs.uuid=q.uuid
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 45: ALTER TABLE jobs RENAME COLUMN name TO simple_name
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 46: ALTER TABLE jobs ADD COLUMN name varchar
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 47: ALTER TABLE jobs ADD COLUMN aliases varchar[]
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 49: WITH RECURSIVE
    job_fqn AS (SELECT j.uuid,
                   j.simple_name AS simple_name,
                   j.simple_name AS name
            FROM jobs j
            WHERE j.parent_job_uuid IS NULL
            UNION
            SELECT j1.uuid,
                   j1.simple_name AS simple_name,
                   f.name || '.' || j1.simple_name AS name
            FROM jobs j1
            INNER JOIN job_fqn f ON f.uuid = j1.parent_job_uuid)
UPDATE jobs SET simple_name=f.simple_name, name=f.name
FROM job_fqn f
WHERE jobs.uuid=f.uuid
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 65: ALTER TABLE jobs ALTER COLUMN name SET NOT NULL
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 67: ALTER TABLE jobs DROP CONSTRAINT unique_jobs_namespace_uuid_name_parent
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 68: ALTER TABLE jobs ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE (namespace_uuid, name)
10:12:26.686 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "61 - unique job fqn index" ...
10:12:26.688 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "61 - unique job fqn index"
10:12:26.689 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: WITH fqn AS (
  SELECT f.uuid,
         f.job_fqn AS name,
         f.namespace_name,
         j.name    AS simple_name,
         j.parent_job_uuid,
         f.parent_job_name::text,
         j.symlink_target_uuid
  FROM jobs_fqn f,
       jobs j
  WHERE j.uuid = f.uuid
)
UPDATE jobs SET symlink_target_uuid=q.target_uuid
FROM (
         SELECT j.uuid, j.namespace_name, j.name, j.simple_name, jv.uuid AS target_uuid, jv.simple_name
         FROM fqn j
         INNER JOIN fqn jv ON j.namespace_name=jv.namespace_name AND j.name=jv.name AND j.simple_name != jv.simple_name
         WHERE j.symlink_target_uuid IS NULL
         AND jv.symlink_target_uuid IS NULL
         AND j.parent_job_uuid IS NULL) q
WHERE jobs.uuid=q.uuid
10:12:26.690 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.690 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: WITH fqn AS (
  SELECT f.uuid,
         f.job_fqn AS name,
         f.namespace_name,
         j.name    AS simple_name,
         j.parent_job_uuid,
         f.parent_job_name::text,
         j.symlink_target_uuid,
         j.created_at
  FROM jobs_fqn f,
       jobs j
  WHERE j.uuid = f.uuid
)
UPDATE jobs SET name=(q.simple_name || '_' || q.row)
FROM (
  SELECT j.uuid, j.namespace_name, j.name, j.simple_name, jv.uuid AS target_uuid,
         row_number() over (PARTITION BY j.namespace_name, j.name ORDER BY j.created_at) AS row
  FROM fqn j
  INNER JOIN fqn jv ON j.namespace_name=jv.namespace_name AND j.name=jv.name AND j.symlink_target_uuid=jv.uuid
) q
WHERE jobs.uuid=q.uuid
10:12:26.691 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.691 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs RENAME COLUMN name TO simple_name
10:12:26.691 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.691 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD COLUMN name varchar
10:12:26.692 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.692 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD COLUMN aliases varchar[]
10:12:26.692 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.692 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: WITH RECURSIVE
    job_fqn AS (SELECT j.uuid,
                   j.simple_name AS simple_name,
                   j.simple_name AS name
            FROM jobs j
            WHERE j.parent_job_uuid IS NULL
            UNION
            SELECT j1.uuid,
                   j1.simple_name AS simple_name,
                   f.name || '.' || j1.simple_name AS name
            FROM jobs j1
            INNER JOIN job_fqn f ON f.uuid = j1.parent_job_uuid)
UPDATE jobs SET simple_name=f.simple_name, name=f.name
FROM job_fqn f
WHERE jobs.uuid=f.uuid
10:12:26.693 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.693 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ALTER COLUMN name SET NOT NULL
10:12:26.694 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.694 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs DROP CONSTRAINT unique_jobs_namespace_uuid_name_parent
10:12:26.694 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.694 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs ADD CONSTRAINT unique_jobs_namespace_uuid_name_parent UNIQUE (namespace_uuid, name)
10:12:26.695 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.695 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "61 - unique job fqn index"
10:12:26.697 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.700 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V62__index_run_states_and_parent_run.sql ...
10:12:26.701 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE INDEX IF NOT EXISTS run_states_uuid_index ON run_states(run_uuid)
10:12:26.701 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: CREATE INDEX IF NOT EXISTS runs_parent_run_uuid_index ON runs(parent_run_uuid)
10:12:26.701 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: CREATE INDEX IF NOT EXISTS runs_start_run_state_uuid_index ON runs(start_run_state_uuid)
10:12:26.701 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: CREATE INDEX IF NOT EXISTS runs_end_run_state_uuid_index ON runs(end_run_state_uuid)
10:12:26.701 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "62 - index run states and parent run" ...
10:12:26.702 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "62 - index run states and parent run"
10:12:26.703 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX IF NOT EXISTS run_states_uuid_index ON run_states(run_uuid)
10:12:26.704 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.704 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX IF NOT EXISTS runs_parent_run_uuid_index ON runs(parent_run_uuid)
10:12:26.705 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.705 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX IF NOT EXISTS runs_start_run_state_uuid_index ON runs(start_run_state_uuid)
10:12:26.705 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.705 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX IF NOT EXISTS runs_end_run_state_uuid_index ON runs(end_run_state_uuid)
10:12:26.706 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.706 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "62 - index run states and parent run"
10:12:26.708 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.711 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V63__alter_tables_add_on_cascade_delete.sql ...
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_output_dataset_version_uuid_fkey,
ADD CONSTRAINT column_lineage_output_dataset_version_uuid_fkey
  FOREIGN KEY (output_dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_output_dataset_field_uuid_fkey,
ADD CONSTRAINT column_lineage_output_dataset_field_uuid_fkey
  FOREIGN KEY (output_dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 15: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_input_dataset_version_uuid_fkey,
ADD CONSTRAINT column_lineage_input_dataset_version_uuid_fkey
  FOREIGN KEY (input_dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 22: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_input_dataset_field_uuid_fkey,
ADD CONSTRAINT column_lineage_input_dataset_field_uuid_fkey
  FOREIGN KEY (input_dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 29: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_dataset_uuid_fkey,
ADD CONSTRAINT dataset_facets_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 36: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_run_uuid_fkey,
ADD CONSTRAINT dataset_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 43: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_dataset_version_uuid_fkey,
ADD CONSTRAINT dataset_facets_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 50: ALTER TABLE dataset_fields
DROP CONSTRAINT dataset_fields_dataset_uuid_fkey,
ADD CONSTRAINT dataset_fields_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 57: ALTER TABLE dataset_fields_tag_mapping
DROP CONSTRAINT dataset_fields_tag_mapping_tag_uuid_fkey,
ADD CONSTRAINT dataset_fields_tag_mapping_tag_uuid_fkey
  FOREIGN KEY (tag_uuid)
  REFERENCES tags(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 64: ALTER TABLE dataset_fields_tag_mapping
DROP CONSTRAINT dataset_fields_tag_mapping_dataset_field_uuid_fkey,
ADD CONSTRAINT dataset_fields_tag_mapping_dataset_field_uuid_fkey
  FOREIGN KEY (dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 71: ALTER TABLE dataset_symlinks
DROP CONSTRAINT dataset_symlinks_namespace_uuid_fkey,
ADD CONSTRAINT dataset_symlinks_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 78: ALTER TABLE dataset_versions
DROP CONSTRAINT dataset_versions_dataset_uuid_fkey,
ADD CONSTRAINT dataset_versions_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.712 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 85: ALTER TABLE dataset_versions_field_mapping
DROP CONSTRAINT dataset_versions_field_mapping_dataset_version_uuid_fkey,
ADD CONSTRAINT dataset_versions_field_mapping_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 92: ALTER TABLE dataset_versions_field_mapping
DROP CONSTRAINT dataset_versions_field_mapping_dataset_field_uuid_fkey,
ADD CONSTRAINT dataset_versions_field_mapping_dataset_field_uuid_fkey
  FOREIGN KEY (dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 99: ALTER TABLE datasets
DROP CONSTRAINT datasets_namespace_uuid_fkey,
ADD CONSTRAINT datasets_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 106: ALTER TABLE datasets
DROP CONSTRAINT datasets_source_uuid_fkey,
ADD CONSTRAINT datasets_source_uuid_fkey
  FOREIGN KEY (source_uuid)
  REFERENCES sources(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 113: ALTER TABLE datasets_tag_mapping
DROP CONSTRAINT datasets_tag_mapping_dataset_uuid_fkey,
ADD CONSTRAINT datasets_tag_mapping_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 120: ALTER TABLE datasets_tag_mapping
DROP CONSTRAINT datasets_tag_mapping_tag_uuid_fkey,
ADD CONSTRAINT datasets_tag_mapping_tag_uuid_fkey
  FOREIGN KEY (tag_uuid)
  REFERENCES tags(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 127: ALTER TABLE job_facets
DROP CONSTRAINT job_facets_job_uuid_fkey,
ADD CONSTRAINT job_facets_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 134: ALTER TABLE job_facets
DROP CONSTRAINT job_facets_run_uuid_fkey,
ADD CONSTRAINT job_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 141: ALTER TABLE job_versions
DROP CONSTRAINT job_versions_job_uuid_fkey,
ADD CONSTRAINT job_versions_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 148: ALTER TABLE job_versions
DROP CONSTRAINT job_versions_job_uuid_fkey,
ADD CONSTRAINT job_versions_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 155: ALTER TABLE job_versions_io_mapping
DROP CONSTRAINT job_versions_io_mapping_dataset_uuid_fkey,
ADD CONSTRAINT job_versions_io_mapping_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 162: ALTER TABLE job_versions_io_mapping
DROP CONSTRAINT job_versions_io_mapping_job_version_uuid_fkey,
ADD CONSTRAINT job_versions_io_mapping_job_version_uuid_fkey
  FOREIGN KEY (job_version_uuid)
  REFERENCES job_versions(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 169: ALTER TABLE jobs
DROP CONSTRAINT jobs_parent_fk_jobs,
ADD CONSTRAINT jobs_parent_fk_jobs
  FOREIGN KEY (parent_job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 176: ALTER TABLE jobs
DROP CONSTRAINT jobs_symlink_target_uuid_fkey,
ADD CONSTRAINT jobs_symlink_target_uuid_fkey
  FOREIGN KEY (symlink_target_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 183: ALTER TABLE jobs
DROP CONSTRAINT jobs_namespace_uuid_fkey,
ADD CONSTRAINT jobs_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 190: ALTER TABLE namespace_ownerships
DROP CONSTRAINT namespace_ownerships_namespace_uuid_fkey,
ADD CONSTRAINT namespace_ownerships_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.713 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 197: ALTER TABLE namespace_ownerships
DROP CONSTRAINT namespace_ownerships_owner_uuid_fkey,
ADD CONSTRAINT namespace_ownerships_owner_uuid_fkey
  FOREIGN KEY (owner_uuid)
  REFERENCES owners(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 204: ALTER TABLE run_facets
DROP CONSTRAINT run_facets_run_uuid_fkey,
ADD CONSTRAINT run_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 211: ALTER TABLE run_states
DROP CONSTRAINT run_states_run_uuid_fkey,
ADD CONSTRAINT run_states_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 218: ALTER TABLE runs
DROP CONSTRAINT runs_start_run_state_uuid_fkey,
ADD CONSTRAINT runs_start_run_state_uuid_fkey
  FOREIGN KEY (start_run_state_uuid)
  REFERENCES run_states(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 225: ALTER TABLE runs
DROP CONSTRAINT runs_parent_fk_runs,
ADD CONSTRAINT runs_parent_fk_runs
  FOREIGN KEY (parent_run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 232: ALTER TABLE runs
DROP CONSTRAINT runs_end_run_state_uuid_fkey,
ADD CONSTRAINT runs_end_run_state_uuid_fkey
  FOREIGN KEY (end_run_state_uuid)
  REFERENCES run_states(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 239: ALTER TABLE runs
DROP CONSTRAINT runs_run_args_uuid_fkey,
ADD CONSTRAINT runs_run_args_uuid_fkey
  FOREIGN KEY (run_args_uuid)
  REFERENCES run_args(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 246: ALTER TABLE runs
DROP CONSTRAINT runs_job_version_uuid_fkey,
ADD CONSTRAINT runs_job_version_uuid_fkey
  FOREIGN KEY (job_version_uuid)
  REFERENCES job_versions(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 253: ALTER TABLE runs_input_mapping
DROP CONSTRAINT runs_input_mapping_dataset_version_uuid_fkey,
ADD CONSTRAINT runs_input_mapping_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 260: ALTER TABLE runs_input_mapping
DROP CONSTRAINT runs_input_mapping_run_uuid_fkey,
ADD CONSTRAINT runs_input_mapping_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 267: ALTER TABLE stream_versions
DROP CONSTRAINT stream_versions_dataset_version_uuid_fkey,
ADD CONSTRAINT stream_versions_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.714 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "63 - alter tables add on cascade delete" ...
10:12:26.716 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "63 - alter tables add on cascade delete"
10:12:26.718 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_output_dataset_version_uuid_fkey,
ADD CONSTRAINT column_lineage_output_dataset_version_uuid_fkey
  FOREIGN KEY (output_dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.719 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.719 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_output_dataset_field_uuid_fkey,
ADD CONSTRAINT column_lineage_output_dataset_field_uuid_fkey
  FOREIGN KEY (output_dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.720 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.721 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_input_dataset_version_uuid_fkey,
ADD CONSTRAINT column_lineage_input_dataset_version_uuid_fkey
  FOREIGN KEY (input_dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.722 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.722 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE column_lineage
DROP CONSTRAINT column_lineage_input_dataset_field_uuid_fkey,
ADD CONSTRAINT column_lineage_input_dataset_field_uuid_fkey
  FOREIGN KEY (input_dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.723 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.723 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_dataset_uuid_fkey,
ADD CONSTRAINT dataset_facets_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.724 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.724 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_run_uuid_fkey,
ADD CONSTRAINT dataset_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.725 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.725 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_facets
DROP CONSTRAINT dataset_facets_dataset_version_uuid_fkey,
ADD CONSTRAINT dataset_facets_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.726 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.726 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_fields
DROP CONSTRAINT dataset_fields_dataset_uuid_fkey,
ADD CONSTRAINT dataset_fields_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.727 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.727 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_fields_tag_mapping
DROP CONSTRAINT dataset_fields_tag_mapping_tag_uuid_fkey,
ADD CONSTRAINT dataset_fields_tag_mapping_tag_uuid_fkey
  FOREIGN KEY (tag_uuid)
  REFERENCES tags(uuid)
  ON DELETE CASCADE
10:12:26.728 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.728 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_fields_tag_mapping
DROP CONSTRAINT dataset_fields_tag_mapping_dataset_field_uuid_fkey,
ADD CONSTRAINT dataset_fields_tag_mapping_dataset_field_uuid_fkey
  FOREIGN KEY (dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.730 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.730 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_symlinks
DROP CONSTRAINT dataset_symlinks_namespace_uuid_fkey,
ADD CONSTRAINT dataset_symlinks_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.731 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.731 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_versions
DROP CONSTRAINT dataset_versions_dataset_uuid_fkey,
ADD CONSTRAINT dataset_versions_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.732 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.732 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_versions_field_mapping
DROP CONSTRAINT dataset_versions_field_mapping_dataset_version_uuid_fkey,
ADD CONSTRAINT dataset_versions_field_mapping_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.733 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.733 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_versions_field_mapping
DROP CONSTRAINT dataset_versions_field_mapping_dataset_field_uuid_fkey,
ADD CONSTRAINT dataset_versions_field_mapping_dataset_field_uuid_fkey
  FOREIGN KEY (dataset_field_uuid)
  REFERENCES dataset_fields(uuid)
  ON DELETE CASCADE
10:12:26.734 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.734 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets
DROP CONSTRAINT datasets_namespace_uuid_fkey,
ADD CONSTRAINT datasets_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.735 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.735 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets
DROP CONSTRAINT datasets_source_uuid_fkey,
ADD CONSTRAINT datasets_source_uuid_fkey
  FOREIGN KEY (source_uuid)
  REFERENCES sources(uuid)
  ON DELETE CASCADE
10:12:26.736 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.736 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets_tag_mapping
DROP CONSTRAINT datasets_tag_mapping_dataset_uuid_fkey,
ADD CONSTRAINT datasets_tag_mapping_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.737 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.737 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE datasets_tag_mapping
DROP CONSTRAINT datasets_tag_mapping_tag_uuid_fkey,
ADD CONSTRAINT datasets_tag_mapping_tag_uuid_fkey
  FOREIGN KEY (tag_uuid)
  REFERENCES tags(uuid)
  ON DELETE CASCADE
10:12:26.738 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.738 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_facets
DROP CONSTRAINT job_facets_job_uuid_fkey,
ADD CONSTRAINT job_facets_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.739 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.739 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_facets
DROP CONSTRAINT job_facets_run_uuid_fkey,
ADD CONSTRAINT job_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.741 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.741 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions
DROP CONSTRAINT job_versions_job_uuid_fkey,
ADD CONSTRAINT job_versions_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.742 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.742 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions
DROP CONSTRAINT job_versions_job_uuid_fkey,
ADD CONSTRAINT job_versions_job_uuid_fkey
  FOREIGN KEY (job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.743 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.743 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping
DROP CONSTRAINT job_versions_io_mapping_dataset_uuid_fkey,
ADD CONSTRAINT job_versions_io_mapping_dataset_uuid_fkey
  FOREIGN KEY (dataset_uuid)
  REFERENCES datasets(uuid)
  ON DELETE CASCADE
10:12:26.744 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.744 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping
DROP CONSTRAINT job_versions_io_mapping_job_version_uuid_fkey,
ADD CONSTRAINT job_versions_io_mapping_job_version_uuid_fkey
  FOREIGN KEY (job_version_uuid)
  REFERENCES job_versions(uuid)
  ON DELETE CASCADE
10:12:26.745 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.745 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
DROP CONSTRAINT jobs_parent_fk_jobs,
ADD CONSTRAINT jobs_parent_fk_jobs
  FOREIGN KEY (parent_job_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.746 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.746 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
DROP CONSTRAINT jobs_symlink_target_uuid_fkey,
ADD CONSTRAINT jobs_symlink_target_uuid_fkey
  FOREIGN KEY (symlink_target_uuid)
  REFERENCES jobs(uuid)
  ON DELETE CASCADE
10:12:26.747 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.747 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE jobs
DROP CONSTRAINT jobs_namespace_uuid_fkey,
ADD CONSTRAINT jobs_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE namespace_ownerships
DROP CONSTRAINT namespace_ownerships_namespace_uuid_fkey,
ADD CONSTRAINT namespace_ownerships_namespace_uuid_fkey
  FOREIGN KEY (namespace_uuid)
  REFERENCES namespaces(uuid)
  ON DELETE CASCADE
10:12:26.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.748 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE namespace_ownerships
DROP CONSTRAINT namespace_ownerships_owner_uuid_fkey,
ADD CONSTRAINT namespace_ownerships_owner_uuid_fkey
  FOREIGN KEY (owner_uuid)
  REFERENCES owners(uuid)
  ON DELETE CASCADE
10:12:26.750 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.750 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE run_facets
DROP CONSTRAINT run_facets_run_uuid_fkey,
ADD CONSTRAINT run_facets_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.751 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.751 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE run_states
DROP CONSTRAINT run_states_run_uuid_fkey,
ADD CONSTRAINT run_states_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.752 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.752 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs
DROP CONSTRAINT runs_start_run_state_uuid_fkey,
ADD CONSTRAINT runs_start_run_state_uuid_fkey
  FOREIGN KEY (start_run_state_uuid)
  REFERENCES run_states(uuid)
  ON DELETE CASCADE
10:12:26.753 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.753 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs
DROP CONSTRAINT runs_parent_fk_runs,
ADD CONSTRAINT runs_parent_fk_runs
  FOREIGN KEY (parent_run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.754 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.754 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs
DROP CONSTRAINT runs_end_run_state_uuid_fkey,
ADD CONSTRAINT runs_end_run_state_uuid_fkey
  FOREIGN KEY (end_run_state_uuid)
  REFERENCES run_states(uuid)
  ON DELETE CASCADE
10:12:26.755 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.755 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs
DROP CONSTRAINT runs_run_args_uuid_fkey,
ADD CONSTRAINT runs_run_args_uuid_fkey
  FOREIGN KEY (run_args_uuid)
  REFERENCES run_args(uuid)
  ON DELETE CASCADE
10:12:26.757 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.757 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs
DROP CONSTRAINT runs_job_version_uuid_fkey,
ADD CONSTRAINT runs_job_version_uuid_fkey
  FOREIGN KEY (job_version_uuid)
  REFERENCES job_versions(uuid)
  ON DELETE CASCADE
10:12:26.758 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.758 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs_input_mapping
DROP CONSTRAINT runs_input_mapping_dataset_version_uuid_fkey,
ADD CONSTRAINT runs_input_mapping_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.759 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.759 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE runs_input_mapping
DROP CONSTRAINT runs_input_mapping_run_uuid_fkey,
ADD CONSTRAINT runs_input_mapping_run_uuid_fkey
  FOREIGN KEY (run_uuid)
  REFERENCES runs(uuid)
  ON DELETE CASCADE
10:12:26.760 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.760 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE stream_versions
DROP CONSTRAINT stream_versions_dataset_version_uuid_fkey,
ADD CONSTRAINT stream_versions_dataset_version_uuid_fkey
  FOREIGN KEY (dataset_version_uuid)
  REFERENCES dataset_versions(uuid)
  ON DELETE CASCADE
10:12:26.761 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.761 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "63 - alter tables add on cascade delete"
10:12:26.763 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.767 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V64__drop_job_contexts.sql ...
10:12:26.767 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: DROP TABLE job_contexts
10:12:26.768 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "64 - drop job contexts" ...
10:12:26.769 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "64 - drop job contexts"
10:12:26.770 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP TABLE job_contexts
10:12:26.770 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.770 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "64 - drop job contexts"
10:12:26.773 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.776 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V65__alter_dataset_facets_to_change_lineage_event_type_as_nullable.sql ...
10:12:26.777 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE dataset_facets ALTER COLUMN lineage_event_type DROP NOT NULL
10:12:26.777 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "65 - alter dataset facets to change lineage event type as nullable" ...
10:12:26.778 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "65 - alter dataset facets to change lineage event type as nullable"
10:12:26.779 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE dataset_facets ALTER COLUMN lineage_event_type DROP NOT NULL
10:12:26.780 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.780 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "65 - alter dataset facets to change lineage event type as nullable"
10:12:26.782 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V66.1__alter_job_facets.sql ...
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE job_facets ALTER COLUMN lineage_event_type DROP NOT NULL
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: ALTER TABLE job_facets DROP CONSTRAINT job_facets_run_uuid_fkey
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: ALTER TABLE job_facets ADD COLUMN job_version_uuid uuid REFERENCES job_versions (uuid)
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 5: CREATE INDEX job_facets_job_version_uuid ON job_facets (job_version_uuid)
10:12:26.785 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "66.1 - alter job facets" ...
10:12:26.787 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "66.1 - alter job facets"
10:12:26.787 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_facets ALTER COLUMN lineage_event_type DROP NOT NULL
10:12:26.788 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.788 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_facets DROP CONSTRAINT job_facets_run_uuid_fkey
10:12:26.789 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.789 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_facets ADD COLUMN job_version_uuid uuid REFERENCES job_versions (uuid)
10:12:26.789 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.789 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX job_facets_job_version_uuid ON job_facets (job_version_uuid)
10:12:26.790 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.790 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "66.1 - alter job facets"
10:12:26.792 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.796 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V66.2__alter_lineage_events_add_event_type.sql ...
10:12:26.796 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE lineage_events ADD COLUMN _event_type VARCHAR(64)
10:12:26.796 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: ALTER TABLE lineage_events ALTER COLUMN _event_type SET DEFAULT 'RUN_EVENT'
10:12:26.796 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "66.2 - alter lineage events add event type" ...
10:12:26.797 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "66.2 - alter lineage events add event type"
10:12:26.798 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE lineage_events ADD COLUMN _event_type VARCHAR(64)
10:12:26.799 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.799 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE lineage_events ALTER COLUMN _event_type SET DEFAULT 'RUN_EVENT'
10:12:26.799 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.799 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "66.2 - alter lineage events add event type"
10:12:26.801 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.804 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "66.3 - BackfillJobFacetsWithJobVersion" [non-transactional] ...
10:12:26.806 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "66.3 - BackfillJobFacetsWithJobVersion" [non-transactional]
10:12:26.809 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "66.3 - BackfillJobFacetsWithJobVersion" [non-transactional]
10:12:26.811 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.814 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing V67.1__job_versions_io_mapping_add_job_reference.sql ...
10:12:26.814 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: ALTER TABLE job_versions_io_mapping ADD COLUMN job_uuid uuid REFERENCES jobs(uuid) ON DELETE CASCADE
10:12:26.814 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: ALTER TABLE job_versions_io_mapping ADD COLUMN job_symlink_target_uuid uuid REFERENCES jobs(uuid) ON DELETE CASCADE
10:12:26.814 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 3: ALTER TABLE job_versions_io_mapping ADD COLUMN is_current_job_version boolean DEFAULT FALSE
10:12:26.814 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 4: ALTER TABLE job_versions_io_mapping ADD COLUMN made_current_at TIMESTAMP
10:12:26.815 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 7: -- To add job_uuid to the unique constraint, we first drop the primary key, then recreate it; note given that job_version_uuid can be NULL, we need to check that job_version_uuid != NULL before inserting (duplicate columns otherwise)
ALTER TABLE job_versions_io_mapping DROP CONSTRAINT job_versions_io_mapping_pkey
10:12:26.815 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 8: ALTER TABLE job_versions_io_mapping ALTER COLUMN job_version_uuid DROP NOT NULL
10:12:26.815 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 10: CREATE INDEX job_versions_io_mapping_job_uuid_job_symlink_target_uuid ON job_versions_io_mapping (job_uuid, job_symlink_target_uuid)
10:12:26.815 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 12: ALTER TABLE job_versions_io_mapping ADD CONSTRAINT job_versions_io_mapping_mapping_pkey UNIQUE (job_version_uuid, dataset_uuid, io_type, job_uuid)
10:12:26.815 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "67.1 - job versions io mapping add job reference" ...
10:12:26.816 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "67.1 - job versions io mapping add job reference"
10:12:26.817 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ADD COLUMN job_uuid uuid REFERENCES jobs(uuid) ON DELETE CASCADE
10:12:26.818 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.818 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ADD COLUMN job_symlink_target_uuid uuid REFERENCES jobs(uuid) ON DELETE CASCADE
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ADD COLUMN is_current_job_version boolean DEFAULT FALSE
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ADD COLUMN made_current_at TIMESTAMP
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.819 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: -- To add job_uuid to the unique constraint, we first drop the primary key, then recreate it; note given that job_version_uuid can be NULL, we need to check that job_version_uuid != NULL before inserting (duplicate columns otherwise)
ALTER TABLE job_versions_io_mapping DROP CONSTRAINT job_versions_io_mapping_pkey
10:12:26.820 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.820 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ALTER COLUMN job_version_uuid DROP NOT NULL
10:12:26.821 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.821 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX job_versions_io_mapping_job_uuid_job_symlink_target_uuid ON job_versions_io_mapping (job_uuid, job_symlink_target_uuid)
10:12:26.821 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.821 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE job_versions_io_mapping ADD CONSTRAINT job_versions_io_mapping_mapping_pkey UNIQUE (job_version_uuid, dataset_uuid, io_type, job_uuid)
10:12:26.822 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.822 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "67.1 - job versions io mapping add job reference"
10:12:26.824 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.827 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" to version "67.2 - Back fill job_uuid and is_current_job_version in job_versions_io_mapping table" [non-transactional] ...
10:12:26.828 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version "67.2 - Back fill job_uuid and is_current_job_version in job_versions_io_mapping table" [non-transactional]
10:12:26.832 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "67.2 - Back fill job_uuid and is_current_job_version in job_versions_io_mapping table" [non-transactional]
10:12:26.834 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.837 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing R__1_Jobs_view_and_rewrite_function.sql ...
10:12:26.838 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE OR REPLACE VIEW jobs_view
AS
SELECT j.uuid,
       j.name,
       j.namespace_name,
       j.simple_name    AS simple_name,
       j.parent_job_uuid,
       p.name::text AS parent_job_name,
       j.type,
       j.created_at,
       j.updated_at,
       j.namespace_uuid,
       j.description,
       j.current_version_uuid,
       j.current_job_context_uuid,
       j.current_location,
       j.current_inputs,
       j.symlink_target_uuid,
       j.parent_job_uuid::char(36) AS parent_job_uuid_string,
       j.aliases
FROM jobs j
LEFT JOIN jobs p ON j.parent_job_uuid=p.uuid
WHERE j.is_hidden IS FALSE AND j.symlink_target_uuid IS NULL
10:12:26.838 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 25: CREATE OR REPLACE FUNCTION rewrite_jobs_fqn_table() RETURNS TRIGGER AS
$$
DECLARE
    job_uuid uuid;
    job_updated_at timestamp with time zone;
    new_symlink_target_uuid uuid;
    old_symlink_target_uuid uuid;
    inserted_job jobs_view%rowtype;
    full_name varchar;
BEGIN
    full_name = NEW.name;
    IF NEW.parent_job_uuid IS NOT NULL THEN
        SELECT p.name || '.' || NEW.name INTO full_name
        FROM jobs p
        WHERE p.uuid=NEW.parent_job_uuid;
    END IF;
    INSERT INTO jobs (uuid, type, created_at, updated_at, namespace_uuid, name, simple_name, description,
                      current_version_uuid, namespace_name, current_job_context_uuid,
                      current_location, current_inputs, symlink_target_uuid, parent_job_uuid,
                      is_hidden)
    SELECT NEW.uuid,
           NEW.type,
           NEW.created_at,
           NEW.updated_at,
           NEW.namespace_uuid,
           full_name,
           NEW.name,
           NEW.description,
           NEW.current_version_uuid,
           NEW.namespace_name,
           NULL,
           NEW.current_location,
           NEW.current_inputs,
           NEW.symlink_target_uuid,
           NEW.parent_job_uuid,
           false
    ON CONFLICT (namespace_uuid, name)
        DO UPDATE SET updated_at               = now(),
                      parent_job_uuid = COALESCE(jobs.parent_job_uuid, EXCLUDED.parent_job_uuid),
                      simple_name = CASE
                            WHEN EXCLUDED.parent_job_uuid IS NOT NULL THEN EXCLUDED.simple_name
                            ELSE jobs.name
                            END,
                      type                     = EXCLUDED.type,
                      description              = EXCLUDED.description,
                      current_location         = EXCLUDED.current_location,
                      current_inputs           = EXCLUDED.current_inputs,
                      -- update the symlink target if null. otherwise, keep the old value
                      symlink_target_uuid      = COALESCE(jobs.symlink_target_uuid,
                                                          EXCLUDED.symlink_target_uuid),
                      is_hidden                = false
                      -- the SELECT statement below will get the OLD symlink_target_uuid in case of update and the NEW
                      -- version in case of insert
    RETURNING uuid,
        updated_at,
        symlink_target_uuid,
        (SELECT symlink_target_uuid FROM jobs j2 WHERE j2.uuid=jobs.uuid)
        INTO job_uuid, job_updated_at, new_symlink_target_uuid, old_symlink_target_uuid;


    -- update the jobs table when updating a job's symlink target
    IF (new_symlink_target_uuid IS NOT NULL AND new_symlink_target_uuid IS DISTINCT FROM old_symlink_target_uuid) THEN
        RAISE INFO 'Updating jobs aliases and symlinks due to % to job % (%)', TG_OP, NEW.name, job_uuid;
        WITH RECURSIVE
            jobs_symlink AS (SELECT j.uuid, j.uuid AS link_target_uuid, j.symlink_target_uuid
                             FROM jobs j
                             -- include only jobs that have symlinks pointing to them to keep this table small
                             INNER JOIN jobs js ON js.symlink_target_uuid=j.uuid
                             WHERE j.symlink_target_uuid IS NULL
                             UNION
                             SELECT j.uuid, jn.link_target_uuid, j.symlink_target_uuid
                             FROM jobs j
                             INNER JOIN jobs_symlink jn ON j.symlink_target_uuid = jn.uuid),
            aliases AS (SELECT s.link_target_uuid,
                               ARRAY_AGG(DISTINCT f.name) AS aliases
                        FROM jobs_symlink s
                        INNER JOIN jobs f ON f.uuid = s.uuid
                        GROUP BY s.link_target_uuid)
        UPDATE jobs
        SET aliases = j.aliases, symlink_target_uuid=j.link_target_uuid
        FROM (
                 SELECT j.uuid,
                        CASE WHEN j.uuid=s.link_target_uuid THEN NULL ELSE s.link_target_uuid END AS link_target_uuid,
                        a.aliases
                 FROM jobs j
                 LEFT JOIN jobs_symlink s ON s.uuid=j.uuid
                 LEFT JOIN aliases a ON a.link_target_uuid = j.uuid
             ) j
        WHERE jobs.uuid=j.uuid;
        UPDATE job_versions_io_mapping
        SET job_symlink_target_uuid=j.symlink_target_uuid
        FROM jobs j
        WHERE job_versions_io_mapping.job_uuid=j.uuid AND j.uuid = NEW.uuid;
    END IF;
    SELECT * INTO inserted_job FROM jobs_view
    WHERE uuid=job_uuid OR (new_symlink_target_uuid IS NOT NULL AND uuid=new_symlink_target_uuid);
    return inserted_job;
END;
$$ LANGUAGE plpgsql
10:12:26.839 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 125: DROP TRIGGER IF EXISTS update_symlinks ON jobs_view
10:12:26.839 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 127: CREATE TRIGGER update_symlinks
    INSTEAD OF UPDATE OR INSERT
    ON jobs_view
    FOR EACH ROW
EXECUTE FUNCTION rewrite_jobs_fqn_table()
10:12:26.839 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" with repeatable migration "1 Jobs view and rewrite function" ...
10:12:26.841 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" with repeatable migration "1 Jobs view and rewrite function"
10:12:26.842 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE VIEW jobs_view
AS
SELECT j.uuid,
       j.name,
       j.namespace_name,
       j.simple_name    AS simple_name,
       j.parent_job_uuid,
       p.name::text AS parent_job_name,
       j.type,
       j.created_at,
       j.updated_at,
       j.namespace_uuid,
       j.description,
       j.current_version_uuid,
       j.current_job_context_uuid,
       j.current_location,
       j.current_inputs,
       j.symlink_target_uuid,
       j.parent_job_uuid::char(36) AS parent_job_uuid_string,
       j.aliases
FROM jobs j
LEFT JOIN jobs p ON j.parent_job_uuid=p.uuid
WHERE j.is_hidden IS FALSE AND j.symlink_target_uuid IS NULL
10:12:26.843 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.843 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE FUNCTION rewrite_jobs_fqn_table() RETURNS TRIGGER AS
$$
DECLARE
    job_uuid uuid;
    job_updated_at timestamp with time zone;
    new_symlink_target_uuid uuid;
    old_symlink_target_uuid uuid;
    inserted_job jobs_view%rowtype;
    full_name varchar;
BEGIN
    full_name = NEW.name;
    IF NEW.parent_job_uuid IS NOT NULL THEN
        SELECT p.name || '.' || NEW.name INTO full_name
        FROM jobs p
        WHERE p.uuid=NEW.parent_job_uuid;
    END IF;
    INSERT INTO jobs (uuid, type, created_at, updated_at, namespace_uuid, name, simple_name, description,
                      current_version_uuid, namespace_name, current_job_context_uuid,
                      current_location, current_inputs, symlink_target_uuid, parent_job_uuid,
                      is_hidden)
    SELECT NEW.uuid,
           NEW.type,
           NEW.created_at,
           NEW.updated_at,
           NEW.namespace_uuid,
           full_name,
           NEW.name,
           NEW.description,
           NEW.current_version_uuid,
           NEW.namespace_name,
           NULL,
           NEW.current_location,
           NEW.current_inputs,
           NEW.symlink_target_uuid,
           NEW.parent_job_uuid,
           false
    ON CONFLICT (namespace_uuid, name)
        DO UPDATE SET updated_at               = now(),
                      parent_job_uuid = COALESCE(jobs.parent_job_uuid, EXCLUDED.parent_job_uuid),
                      simple_name = CASE
                            WHEN EXCLUDED.parent_job_uuid IS NOT NULL THEN EXCLUDED.simple_name
                            ELSE jobs.name
                            END,
                      type                     = EXCLUDED.type,
                      description              = EXCLUDED.description,
                      current_location         = EXCLUDED.current_location,
                      current_inputs           = EXCLUDED.current_inputs,
                      -- update the symlink target if null. otherwise, keep the old value
                      symlink_target_uuid      = COALESCE(jobs.symlink_target_uuid,
                                                          EXCLUDED.symlink_target_uuid),
                      is_hidden                = false
                      -- the SELECT statement below will get the OLD symlink_target_uuid in case of update and the NEW
                      -- version in case of insert
    RETURNING uuid,
        updated_at,
        symlink_target_uuid,
        (SELECT symlink_target_uuid FROM jobs j2 WHERE j2.uuid=jobs.uuid)
        INTO job_uuid, job_updated_at, new_symlink_target_uuid, old_symlink_target_uuid;


    -- update the jobs table when updating a job's symlink target
    IF (new_symlink_target_uuid IS NOT NULL AND new_symlink_target_uuid IS DISTINCT FROM old_symlink_target_uuid) THEN
        RAISE INFO 'Updating jobs aliases and symlinks due to % to job % (%)', TG_OP, NEW.name, job_uuid;
        WITH RECURSIVE
            jobs_symlink AS (SELECT j.uuid, j.uuid AS link_target_uuid, j.symlink_target_uuid
                             FROM jobs j
                             -- include only jobs that have symlinks pointing to them to keep this table small
                             INNER JOIN jobs js ON js.symlink_target_uuid=j.uuid
                             WHERE j.symlink_target_uuid IS NULL
                             UNION
                             SELECT j.uuid, jn.link_target_uuid, j.symlink_target_uuid
                             FROM jobs j
                             INNER JOIN jobs_symlink jn ON j.symlink_target_uuid = jn.uuid),
            aliases AS (SELECT s.link_target_uuid,
                               ARRAY_AGG(DISTINCT f.name) AS aliases
                        FROM jobs_symlink s
                        INNER JOIN jobs f ON f.uuid = s.uuid
                        GROUP BY s.link_target_uuid)
        UPDATE jobs
        SET aliases = j.aliases, symlink_target_uuid=j.link_target_uuid
        FROM (
                 SELECT j.uuid,
                        CASE WHEN j.uuid=s.link_target_uuid THEN NULL ELSE s.link_target_uuid END AS link_target_uuid,
                        a.aliases
                 FROM jobs j
                 LEFT JOIN jobs_symlink s ON s.uuid=j.uuid
                 LEFT JOIN aliases a ON a.link_target_uuid = j.uuid
             ) j
        WHERE jobs.uuid=j.uuid;
        UPDATE job_versions_io_mapping
        SET job_symlink_target_uuid=j.symlink_target_uuid
        FROM jobs j
        WHERE job_versions_io_mapping.job_uuid=j.uuid AND j.uuid = NEW.uuid;
    END IF;
    SELECT * INTO inserted_job FROM jobs_view
    WHERE uuid=job_uuid OR (new_symlink_target_uuid IS NOT NULL AND uuid=new_symlink_target_uuid);
    return inserted_job;
END;
$$ LANGUAGE plpgsql
10:12:26.845 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.845 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP TRIGGER IF EXISTS update_symlinks ON jobs_view
10:12:26.846 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: trigger "update_symlinks" for relation "jobs_view" does not exist, skipping
10:12:26.846 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.846 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TRIGGER update_symlinks
    INSTEAD OF UPDATE OR INSERT
    ON jobs_view
    FOR EACH ROW
EXECUTE FUNCTION rewrite_jobs_fqn_table()
10:12:26.847 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.847 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" with repeatable migration "1 Jobs view and rewrite function"
10:12:26.849 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.853 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing R__2_Runs_view.sql ...
10:12:26.854 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: CREATE OR REPLACE VIEW runs_view
AS
SELECT r.uuid,
       r.created_at,
       r.updated_at,
       r.parent_run_uuid,
       job_version_uuid,
       run_args_uuid,
       nominal_start_time,
       nominal_end_time,
       current_run_state,
       start_run_state_uuid,
       end_run_state_uuid,
       external_id,
       location,
       transitioned_at,
       started_at,
       ended_at,
       job_context_uuid,
       job_uuid,
       COALESCE(s.name, j.name) AS job_name,
       COALESCE(s.namespace_name, j.namespace_name) AS namespace_name
FROM runs r
INNER JOIN jobs j ON j.uuid = r.job_uuid
LEFT JOIN jobs_view s ON j.symlink_target_uuid=s.uuid
10:12:26.854 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" with repeatable migration "2 Runs view" ...
10:12:26.856 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" with repeatable migration "2 Runs view"
10:12:26.857 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE OR REPLACE VIEW runs_view
AS
SELECT r.uuid,
       r.created_at,
       r.updated_at,
       r.parent_run_uuid,
       job_version_uuid,
       run_args_uuid,
       nominal_start_time,
       nominal_end_time,
       current_run_state,
       start_run_state_uuid,
       end_run_state_uuid,
       external_id,
       location,
       transitioned_at,
       started_at,
       ended_at,
       job_context_uuid,
       job_uuid,
       COALESCE(s.name, j.name) AS job_name,
       COALESCE(s.namespace_name, j.namespace_name) AS namespace_name
FROM runs r
INNER JOIN jobs j ON j.uuid = r.job_uuid
LEFT JOIN jobs_view s ON j.symlink_target_uuid=s.uuid
10:12:26.858 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.858 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" with repeatable migration "2 Runs view"
10:12:26.860 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.864 [Test worker] DEBUG org.flywaydb.core.internal.parser.Parser - Parsing R__3_Datasets_view.sql ...
10:12:26.864 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 1: DROP VIEW IF EXISTS datasets_view
10:12:26.864 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.ParserSqlScript - Found statement at line 2: CREATE VIEW datasets_view
AS
SELECT d.uuid,
       d.type,
       d.created_at,
       d.updated_at,
       d.namespace_uuid,
       d.source_uuid,
       d.name,
       array_agg(CAST((namespaces.name, symlinks.name) AS DATASET_NAME)) AS dataset_symlinks,
       d.physical_name,
       d.description,
       d.current_version_uuid,
       d.last_modified_at,
       d.namespace_name,
       d.source_name,
       d.is_deleted
FROM datasets d
JOIN dataset_symlinks symlinks ON d.uuid = symlinks.dataset_uuid
INNER JOIN namespaces ON symlinks.namespace_uuid = namespaces.uuid
WHERE d.is_hidden IS FALSE
GROUP BY d.uuid
10:12:26.864 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Starting migration of schema "public" with repeatable migration "3 Datasets view" ...
10:12:26.866 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" with repeatable migration "3 Datasets view"
10:12:26.867 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: DROP VIEW IF EXISTS datasets_view
10:12:26.867 [Test worker] INFO org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - DB: view "datasets_view" does not exist, skipping
10:12:26.867 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.867 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE VIEW datasets_view
AS
SELECT d.uuid,
       d.type,
       d.created_at,
       d.updated_at,
       d.namespace_uuid,
       d.source_uuid,
       d.name,
       array_agg(CAST((namespaces.name, symlinks.name) AS DATASET_NAME)) AS dataset_symlinks,
       d.physical_name,
       d.description,
       d.current_version_uuid,
       d.last_modified_at,
       d.namespace_name,
       d.source_name,
       d.is_deleted
FROM datasets d
JOIN dataset_symlinks symlinks ON d.uuid = symlinks.dataset_uuid
INNER JOIN namespaces ON symlinks.namespace_uuid = namespaces.uuid
WHERE d.is_hidden IS FALSE
GROUP BY d.uuid
10:12:26.869 [Test worker] DEBUG org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - 0 rows affected
10:12:26.869 [Test worker] DEBUG org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" with repeatable migration "3 Datasets view"
10:12:26.872 [Test worker] DEBUG org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
10:12:26.876 [Test worker] INFO org.flywaydb.core.internal.command.DbMigrate - Successfully applied 82 migrations to schema "public", now at version v67.2 (execution time 00:01.276s)
10:12:26.878 [Test worker] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 30 of 76M
INFO  [2024-02-09 04:42:27,430] org.eclipse.jetty.util.log: Logging initialized @93035ms to org.eclipse.jetty.util.log.Slf4jLog
INFO  [2024-02-09 04:42:27,474] io.dropwizard.server.DefaultServerFactory: Registering jersey handler with root path prefix: /
INFO  [2024-02-09 04:42:27,475] io.dropwizard.server.DefaultServerFactory: Registering admin handler with root path prefix: /
INFO  [2024-02-09 04:42:27,475] io.dropwizard.assets.AssetsBundle: Registering AssetBundle with name: graphql-playground for path /graphql-playground/*
INFO  [2024-02-09 04:42:27,480] marquez.MarquezApp: Running startup actions...
INFO  [2024-02-09 04:42:27,482] org.flywaydb.core.internal.license.VersionPrinter: Flyway Community Edition 8.5.13 by Redgate
INFO  [2024-02-09 04:42:27,482] org.flywaydb.core.internal.license.VersionPrinter: See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
INFO  [2024-02-09 04:42:27,482] org.flywaydb.core.internal.license.VersionPrinter: 
INFO  [2024-02-09 04:42:27,673] org.flywaydb.core.internal.database.base.BaseDatabaseType: Database: jdbc:postgresql://localhost:55773/test (PostgreSQL 14.10)
INFO  [2024-02-09 04:42:27,704] marquez.db.DbMigration: No pending migrations found, skipping...
INFO  [2024-02-09 04:42:28,177] io.dropwizard.server.ServerFactory: Starting MarquezApp
    __  ___
   /  |/  /___ __________ ___  _____  ____
  / /|_/ / __ `/ ___/ __ `/ / / / _ \/_  /
 / /  / / /_/ / /  / /_/ / /_/ /  __/ / /_
/_/  /_/\__,_/_/   \__, /\__,_/\___/ /___/
                     /_/
INFO  [2024-02-09 04:42:28,251] org.eclipse.jetty.setuid.SetUIDListener: Opened application@12ebc4{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
INFO  [2024-02-09 04:42:28,251] org.eclipse.jetty.setuid.SetUIDListener: Opened admin@51d64d67{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}
INFO  [2024-02-09 04:42:28,253] org.eclipse.jetty.server.Server: jetty-9.4.53.v20231009; built: 2023-10-09T12:29:09.265Z; git: 27bde00a0b95a1d5bbee0eae7984f891d2d0f8c9; jvm 20.0.1

INFO  [2024-02-09 04:42:28,611] io.dropwizard.jersey.DropwizardResourceConfig: The following paths were found for the configured resources:

    GET     /api/v1/column-lineage (marquez.api.ColumnLineageResource)
    GET     /api/v1/events/lineage (marquez.api.OpenLineageResource)
    GET     /api/v1/jobs/runs/{id}/ (marquez.api.RunResource)
    POST    /api/v1/jobs/runs/{id}/abort (marquez.api.RunResource)
    POST    /api/v1/jobs/runs/{id}/complete (marquez.api.RunResource)
    GET     /api/v1/jobs/runs/{id}/facets (marquez.api.JobResource)
    POST    /api/v1/jobs/runs/{id}/fail (marquez.api.RunResource)
    POST    /api/v1/jobs/runs/{id}/start (marquez.api.RunResource)
    GET     /api/v1/lineage (marquez.api.OpenLineageResource)
    POST    /api/v1/lineage (marquez.api.OpenLineageResource)
    GET     /api/v1/namespaces (marquez.api.NamespaceResource)
    DELETE  /api/v1/namespaces/{namespace} (marquez.api.NamespaceResource)
    GET     /api/v1/namespaces/{namespace} (marquez.api.NamespaceResource)
    PUT     /api/v1/namespaces/{namespace} (marquez.api.NamespaceResource)
    GET     /api/v1/namespaces/{namespace}/datasets (marquez.api.DatasetResource)
    DELETE  /api/v1/namespaces/{namespace}/datasets/{dataset} (marquez.api.DatasetResource)
    GET     /api/v1/namespaces/{namespace}/datasets/{dataset} (marquez.api.DatasetResource)
    PUT     /api/v1/namespaces/{namespace}/datasets/{dataset} (marquez.api.DatasetResource)
    DELETE  /api/v1/namespaces/{namespace}/datasets/{dataset}/fields/{field}/tags/{tag} (marquez.api.DatasetResource)
    POST    /api/v1/namespaces/{namespace}/datasets/{dataset}/fields/{field}/tags/{tag} (marquez.api.DatasetResource)
    DELETE  /api/v1/namespaces/{namespace}/datasets/{dataset}/tags/{tag} (marquez.api.DatasetResource)
    POST    /api/v1/namespaces/{namespace}/datasets/{dataset}/tags/{tag} (marquez.api.DatasetResource)
    GET     /api/v1/namespaces/{namespace}/datasets/{dataset}/versions (marquez.api.DatasetResource)
    GET     /api/v1/namespaces/{namespace}/datasets/{dataset}/versions/{version} (marquez.api.DatasetResource)
    GET     /api/v1/namespaces/{namespace}/jobs (marquez.api.JobResource)
    DELETE  /api/v1/namespaces/{namespace}/jobs/{job} (marquez.api.JobResource)
    GET     /api/v1/namespaces/{namespace}/jobs/{job} (marquez.api.JobResource)
    PUT     /api/v1/namespaces/{namespace}/jobs/{job} (marquez.api.JobResource)
    GET     /api/v1/namespaces/{namespace}/jobs/{job}/runs (marquez.api.JobResource)
    POST    /api/v1/namespaces/{namespace}/jobs/{job}/runs (marquez.api.JobResource)
    GET     /api/v1/namespaces/{namespace}/jobs/{job}/versions (marquez.api.JobResource)
    GET     /api/v1/namespaces/{namespace}/jobs/{job}/versions/{version} (marquez.api.JobResource)
    GET     /api/v1/runlineage/upstream (marquez.api.OpenLineageResource)
    GET     /api/v1/search (marquez.api.SearchResource)
    GET     /api/v1/sources (marquez.api.SourceResource)
    GET     /api/v1/sources/{source} (marquez.api.SourceResource)
    PUT     /api/v1/sources/{source} (marquez.api.SourceResource)
    GET     /api/v1/tags (marquez.api.TagResource)
    PUT     /api/v1/tags/{name} (marquez.api.TagResource)

INFO  [2024-02-09 04:42:28,616] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@2e2a1bdc{/,null,AVAILABLE}
INFO  [2024-02-09 04:42:28,617] io.dropwizard.setup.AdminEnvironment: tasks = 

    POST    /tasks/log-level (io.dropwizard.servlets.tasks.LogConfigurationTask)
    POST    /tasks/gc (io.dropwizard.servlets.tasks.GarbageCollectionTask)

INFO  [2024-02-09 04:42:28,617] org.eclipse.jetty.server.handler.ContextHandler: Started i.d.j.MutableServletContextHandler@626cd10c{/,null,AVAILABLE}
INFO  [2024-02-09 04:42:28,621] org.eclipse.jetty.server.AbstractConnector: Started application@12ebc4{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
INFO  [2024-02-09 04:42:28,622] org.eclipse.jetty.server.AbstractConnector: Started admin@51d64d67{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}
INFO  [2024-02-09 04:42:28,622] org.eclipse.jetty.server.Server: Started @94227ms
INFO  [2024-02-09 04:42:29,598] marquez.logging.LoggingMdcFilter: status: 200
127.0.0.1 - - [09/Feb/2024:04:42:29 +0000] "GET /api/v1/column-lineage?nodeId=job%3Anamespace%3Ajob1&depth=1&withDownstream=false HTTP/1.1" 200 346 "-" "marquez-java/0.45.0-SNAPSHOT" 137
INFO  [2024-02-09 04:42:29,962] marquez.logging.LoggingMdcFilter: status: 200
127.0.0.1 - - [09/Feb/2024:04:42:29 +0000] "GET /api/v1/column-lineage?nodeId=job%3Anamespace%3Ajob1&depth=10&withDownstream=true HTTP/1.1" 200 418 "-" "marquez-java/0.45.0-SNAPSHOT" 9
INFO  [2024-02-09 04:42:30,270] marquez.logging.LoggingMdcFilter: status: 200
127.0.0.1 - - [09/Feb/2024:04:42:30 +0000] "GET /api/v1/column-lineage?nodeId=datasetField%3Anamespace%3Adataset_b%3Acol_c&depth=20&withDownstream=false HTTP/1.1" 200 349 "-" "marquez-java/0.45.0-SNAPSHOT" 8
INFO  [2024-02-09 04:42:30,577] marquez.logging.LoggingMdcFilter: status: 200
127.0.0.1 - - [09/Feb/2024:04:42:30 +0000] "GET /api/v1/column-lineage?nodeId=datasetField%3Anamespace%3Adataset_c%3Acol_d&depth=1&withDownstream=false HTTP/1.1" 200 321 "-" "marquez-java/0.45.0-SNAPSHOT" 6
INFO  [2024-02-09 04:42:30,849] marquez.logging.LoggingMdcFilter: status: 200
127.0.0.1 - - [09/Feb/2024:04:42:30 +0000] "GET /api/v1/column-lineage?nodeId=dataset%3Anamespace%3Adataset_b&depth=20&withDownstream=false HTTP/1.1" 200 346 "-" "marquez-java/0.45.0-SNAPSHOT" 8
INFO  [2024-02-09 04:42:30,893] org.eclipse.jetty.server.AbstractConnector: Stopped application@12ebc4{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
INFO  [2024-02-09 04:42:30,894] org.eclipse.jetty.server.AbstractConnector: Stopped admin@51d64d67{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}
INFO  [2024-02-09 04:42:30,895] org.eclipse.jetty.server.handler.ContextHandler: Stopped i.d.j.MutableServletContextHandler@626cd10c{/,null,STOPPED}
INFO  [2024-02-09 04:42:30,898] org.eclipse.jetty.server.handler.ContextHandler: Stopped i.d.j.MutableServletContextHandler@2e2a1bdc{/,null,STOPPED}
INFO  [2024-02-09 10:12:30,906] org.flywaydb.core.internal.license.VersionPrinter: Flyway Community Edition 8.5.13 by Redgate
INFO  [2024-02-09 10:12:30,906] org.flywaydb.core.internal.license.VersionPrinter: See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
INFO  [2024-02-09 10:12:30,906] org.flywaydb.core.internal.license.VersionPrinter: 
INFO  [2024-02-09 10:12:30,933] org.flywaydb.core.internal.command.DbClean: Successfully dropped pre-schema database level objects (execution time 00:00.000s)
INFO  [2024-02-09 10:12:30,985] org.flywaydb.core.internal.command.DbClean: Successfully cleaned schema "public" (execution time 00:00.051s)
INFO  [2024-02-09 10:12:30,993] org.flywaydb.core.internal.command.DbClean: Successfully cleaned schema "public" (execution time 00:00.007s)
INFO  [2024-02-09 10:12:30,994] org.flywaydb.core.internal.command.DbClean: Successfully dropped post-schema database level objects (execution time 00:00.000s)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
